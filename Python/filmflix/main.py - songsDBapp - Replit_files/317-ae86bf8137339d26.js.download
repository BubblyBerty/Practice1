!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="03d05ce3-072e-4e78-a60e-5f9bd131c73c",e._sentryDebugIdIdentifier="sentry-dbid-03d05ce3-072e-4e78-a60e-5f9bd131c73c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1582e009"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{30317:function(e,n,t){t.d(n,{Z:function(){return rf}});var r,i,l,o=t(42516),a=t(66626),s=t(74985),c=t(27387),u=t(96583),d=t(65614),h=t(25425),p=t(72310),m=t(26220),f=t(1498),g=t(18836),v=t(49344),y=t(37109),b=t(37951),Z=t(4070),x=t(74833),w=t(30983),C=t(56596),_=t(32377),U=t(52924),S=t(97615),B=t(53831),G=t(52682),T=t(29287),P=t(35972),k=t(75582),I=t(50959),D=t(41733),X=t(21262),R=t(71440),M=t(99165),A=t(58995);function E(){var e=(0,X._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return E=function(){return e},e}function W(){var e=(0,X._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function N(){var e=(0,X._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return N=function(){return e},e}function V(){var e=(0,X._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return V=function(){return e},e}function z(){var e=(0,X._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function L(){var e=(0,X._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return L=function(){return e},e}var O={},j=(0,R.Ps)(E()),Y=(0,R.Ps)(W(),j),H=(0,R.Ps)(N()),q=(0,R.Ps)(V()),$=(0,R.Ps)(z(),j),F=(0,R.Ps)(L());function K(){var e=(0,X._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return K=function(){return e},e}function Q(){var e=(0,X._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return Q=function(){return e},e}var J={},ee=(0,R.Ps)(K()),en=(0,R.Ps)(Q(),ee),et=t(20573),er=t(93918),ei=(0,er.X)({styles0:[T.l0.align.start],styles1:[T.l0.pr(8)]});function el(e){var n=e.children;return"string"!=typeof n?null:(0,s.tZ)(C.G,{css:ei.styles0,children:(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"negative",text:n,css:ei.styles1})})}var eo=(0,er.X)({styles0:[T.l0.colWithGap(16)],styles1:[T.l0.fontWeight.medium],styles2:[T.l0.rowWithGap(16)],styles3:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles4:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles5:[T.l0.rowWithGap(12),T.l0.justify.end],styles6:[T.l0.colWithGap(8)],styles7:[T.l0.flex.row,T.l0.justify.spaceBetween],styles8:[T.l0.colWithGap(4)],styles9:[T.l0.fontWeight.medium],styles10:[T.l0.colWithGap(16)],styles11:[T.l0.fontWeight.medium],styles12:[T.l0.rowWithGap(16)],styles13:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles14:[T.l0.flex.column,{width:"calc(50% - 8px)"}],styles15:[T.l0.rowWithGap(12),T.l0.justify.end],styles16:[T.l0.colWithGap(8)],styles17:[T.l0.flex.row,T.l0.justify.spaceBetween],styles18:[T.l0.colWithGap(4)],styles19:[T.l0.fontWeight.medium],styles20:[T.l0.rowWithGap(8),T.l0.align.center],styles21:[T.l0.fontWeight.medium],styles22:[T.l0.colWithGap(16)],styles23:[T.l0.rowWithGap(16)],styles24:[T.l0.colWithGap(4),{width:"calc(100% - 8px)"}],styles25:[T.l0.rowWithGap(12),T.l0.justify.end],styles26:[T.l0.colWithGap(8)],styles27:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.center],styles28:[T.l0.colWithGap(4)],styles29:[T.l0.colWithGap(16)],styles30:[T.l0.flex.column],styles31:[T.l0.fontWeight.medium],styles32:[T.l0.colWithGap(24)],styles33:[T.l0.rowWithGap(12),T.l0.justify.end],styles34:[T.l0.rowWithGap(4),T.l0.align.center],styles35:[T.l0.fontWeight.medium],styles36:[T.l0.rowWithGap(4),T.l0.align.center],styles37:[T.l0.fontWeight.medium],styles38:[T.l0.colWithGap(24),T.l0.p(16)],styles39:[T.l0.border({color:T.TV.outlineDimmest,direction:"top"}),T.l0.p(16)]});function ea(e){var n,t,r=e.currentUser,i=(0,a._)((0,I.useState)(!1),2),l=i[0],o=i[1],d=(0,a._)((0,I.useState)(!1),2),h=d[0],v=d[1],y=(0,a._)((0,I.useState)(null),2),Z=y[0],w=y[1],S=(0,p.Y)("",m.Z.email),G=(0,p.Y)("",m.Z.password),T=(0,a._)((n=(0,D._)({},O,{onError:function(){return w("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)==="UserError"?w(e.updateEmail.message):(o(!1),v(!0),G.setValue(""))}}),M.D(Y,n)),2),P=T[0],k=T[1].loading,X=(t=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),S.value&&G.value||w("Please fill in all fields"),[4,S.validate()];case 1:if(null==(n=r.sent())?void 0:n.message)return w(null==n?void 0:n.message),[2];return[4,G.validate()];case 2:if(null==(t=r.sent())?void 0:t.message)return w(null==t?void 0:t.message),[2];return P({variables:{email:S.value,password:G.value}}),[2]}})}),function(e){return t.apply(this,arguments)});return l?(0,s.tZ)("form",{onSubmit:X,children:(0,s.BX)(C.G,{css:eo.styles0,children:[(0,s.tZ)(x.h4,{level:2,css:eo.styles1,children:"Update your email"}),(0,s.BX)(C.G,{css:eo.styles2,children:[(0,s.BX)(C.G,{css:eo.styles3,children:[(0,s.tZ)("label",{htmlFor:"newEmail",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,s.tZ)(g.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return S.setValue(e.target.value)},value:S.value})]}),(0,s.BX)(C.G,{css:eo.styles4,children:[(0,s.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,s.tZ)(g.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return G.setValue(e.target.value)},value:G.value})]})]}),Z?(0,s.tZ)(el,{children:Z}):null,(0,s.BX)(C.G,{css:eo.styles5,children:[(0,s.tZ)(f.zx,{onClick:function(){return o(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:k,colorway:"primary",type:"submit",text:k?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:eo.styles6,children:[(0,s.BX)(C.G,{css:eo.styles7,children:[(0,s.BX)(C.G,{css:eo.styles8,children:[(0,s.tZ)(x.xv,{css:eo.styles9,children:"Your email"}),(0,s.tZ)(x.xv,{children:r.email})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return o(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),h?(0,s.tZ)(b.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Visit the verification link sent to ".concat(S.value," to complete your email change.")}):null,h||r.isVerified?null:(0,s.tZ)(b.E,{colorway:"negative",icon:(0,s.tZ)(B.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function es(){var e,n=(0,a._)((0,I.useState)(!1),2),t=n[0],r=n[1],i=(0,a._)((0,I.useState)(!1),2),l=i[0],o=i[1],c=(0,a._)((0,I.useState)(null),2),u=c[0],d=c[1],h=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),m=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),v=(0,a._)((e=(0,D._)({},O,{onError:function(){return d("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)==="UserError"?d(e.updatePassword.message):(d(null),r(!1),o(!0),m.setValue(""),h.setValue(""))}}),M.D(H,e)),2),y=v[0],Z=v[1].loading;return t?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),y({variables:{newPassword:h.value,currentPassword:m.value}})},children:(0,s.BX)(C.G,{css:eo.styles10,children:[(0,s.tZ)(x.h4,{level:2,css:eo.styles11,children:"Update your password"}),(0,s.BX)(C.G,{css:eo.styles12,children:[(0,s.BX)(C.G,{css:eo.styles13,children:[(0,s.tZ)("label",{htmlFor:"currentPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,s.tZ)(g.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return m.setValue(e.target.value)},value:m.value})]}),(0,s.BX)(C.G,{css:eo.styles14,children:[(0,s.tZ)("label",{htmlFor:"newPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,s.tZ)(g.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),u?(0,s.tZ)(el,{children:u}):null,(0,s.BX)(C.G,{css:eo.styles15,children:[(0,s.tZ)(f.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:Z,colorway:"primary",type:"submit",text:Z?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:eo.styles16,children:[(0,s.BX)(C.G,{css:eo.styles17,children:[(0,s.BX)(C.G,{css:eo.styles18,children:[(0,s.tZ)(x.xv,{css:eo.styles19,children:"Your password"}),(0,s.tZ)(x.xv,{children:"••••••••••••"})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),l?(0,s.tZ)(b.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Password updated"}):null]})}function ec(e){var n,t,r,i,l,c,u=e.currentUser,d=(r={},(0,o._)(r,k.aG.Na,"North America"),(0,o._)(r,k.aG.Asia,"Asia"),r),h=(i={},(0,o._)(i,k.aG.Na,"Servers located throughout the continental United States"),(0,o._)(i,k.aG.Asia,"Servers located in Mumbai, India"),i),p=(0,a._)((0,I.useState)(!1),2),m=p[0],g=p[1],v=(0,a._)((0,I.useState)(!1),2),Z=v[0],B=v[1],G=(0,a._)((0,I.useState)(null),2),P=G[0],X=G[1],R=(n=(0,D._)({},O,{}),A.a(F,n)).data,E=(null==R?void 0:R.replContinents.__typename)==="ReplContinentsOutput"?R.replContinents.continents:[],W=E.map(function(e){return{value:e.id,title:d[e.id],subtitle:h[e.id],name:e.name,taller:!0}}),N=u.replContinent,V=W.find(function(e){return e.value===N.id}),z=(0,a._)((0,I.useState)(null!==(l=N.id)&&void 0!==l?l:k.aG.Na),2),L=z[0],j=z[1],Y=(0,a._)((t=(0,D._)({},O,{onError:function(){X("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename)==="CurrentUser"?(X(null),g(!1),B(!0)):X(e.selectReplContinent.message)}}),M.D($,t)),2),H=Y[0],q=Y[1].loading,K=(0,s.BX)(C.G,{css:eo.styles20,children:[(0,s.tZ)(x.xv,{css:eo.styles21,children:"Your server location"}),(0,s.tZ)(w.u,{tooltip:"".concat("Where the servers running your Repls will be located. Select a server location closest to you for the best possible experience."),children:(0,s.tZ)(S.Z,{color:T.TV.foregroundDimmer})})]});return m?(0,s.tZ)("form",{onSubmit:function(e){var n;e.preventDefault(),H({variables:{input:{continent:null===(n=E.find(function(e){return e.id===L}))||void 0===n?void 0:n.id}}})},children:(0,s.BX)(C.G,{css:eo.styles22,children:[K,(0,s.tZ)(C.G,{css:eo.styles23,children:(0,s.tZ)(C.G,{css:eo.styles24,children:(0,s.tZ)(y.P,{placeholder:"Select your server location",initialSelectedItem:V,items:W,onChange:function(e){return j(e.value)}})})}),P?(0,s.tZ)(el,{children:P}):null,(0,s.BX)(C.G,{css:eo.styles25,children:[(0,s.tZ)(f.zx,{onClick:function(){return g(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:q,colorway:"primary",type:"submit",text:q?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:eo.styles26,children:[(0,s.BX)(C.G,{css:eo.styles27,children:[(0,s.BX)(C.G,{css:eo.styles28,children:[K,(0,s.tZ)(x.xv,{children:null!==(c=null==V?void 0:V.title)&&void 0!==c?c:"..."})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return g(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),Z?(0,s.tZ)(b.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Server location updated"}):null]})}function eu(){var e,n,t=(0,a._)((0,I.useState)(!1),2),r=t[0],i=t[1],l=(0,a._)((0,I.useState)(null),2),o=l[0],h=l[1],p=(0,a._)((e={onError:function(){return h("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,d.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},n=(0,D._)({},O,e),M.D(q,n)),2),m=p[0],g=p[1],y=g.data,b=g.loading,Z=(null==y?void 0:y.deleteAccount)===!0;return(0,s.BX)(C.G,{css:eo.styles29,children:[(0,s.BX)(C.G,{css:eo.styles30,children:[(0,s.tZ)(x.xv,{css:eo.styles31,children:"Danger Zone"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,s.tZ)(f.zx,{onClick:function(){return i(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,s.tZ)(G.Z,{})}),o?(0,s.tZ)(el,{children:o}):null,(0,s.tZ)(v.u,{isOpen:r,onRequestClose:function(){return i(!1)},children:(0,s.BX)(C.G,{css:eo.styles32,children:[(0,s.tZ)(x.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,s.tZ)(x.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,s.BX)(C.G,{css:eo.styles33,children:[(0,s.tZ)(f.zx,{text:"Cancel",disabled:b||Z,onClick:function(){return i(!1)}}),(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(G.Z,{}),disabled:b||Z,onClick:function(){return m()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function ed(e){var n,t=e.currentUser,r=(0,a._)((0,I.useState)(null),2),i=r[0],l=r[1],o=(0,a._)((n=(0,D._)({},J,{onError:function(){return l("Something went wrong")},onCompleted:function(){return l(null)}}),M.D(en,n)),2),c=o[0],u=o[1].loading;return(0,s.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,s.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:eo.styles34,children:[(0,s.tZ)(x.xv,{color:"default",css:eo.styles35,children:"Receive transactional notifications via email"}),(0,s.tZ)(w.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,s.tZ)(S.Z,{color:T.TV.foregroundDimmer})})]}),(0,s.tZ)(Z.r,{isSelected:t.emailNotifications,onChange:function(){u||c({variables:{input:{emailNotifications:!t.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,s.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:eo.styles36,children:[(0,s.tZ)(x.xv,{color:"default",css:eo.styles37,children:"Receive marketing notifications"}),(0,s.tZ)(w.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,s.tZ)(S.Z,{color:T.TV.foregroundDimmer})})]}),(0,s.tZ)(Z.r,{isSelected:t.marketingNotifications,onChange:function(){u||c({variables:{input:{marketingNotifications:!t.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),i?(0,s.tZ)(el,{children:i}):null]})}function eh(e){var n=e.currentUser,t=(0,h.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eo.styles38,children:[(0,s.tZ)(ea,{currentUser:n}),(0,s.tZ)(es,{}),t?(0,s.tZ)(ec,{currentUser:n}):null,(0,s.tZ)(ed,{currentUser:n})]}),(0,s.tZ)(C.G,{css:eo.styles39,children:(0,s.tZ)(eu,{})})]})}var ep=(0,er.X)({container:[T.l0.colWithGap(24),T.l0.p(16)],row:[T.l0.flex.row,T.l0.justify.spaceBetween],cell:[T.l0.colWithGap(4)],label:[T.l0.fontWeight.medium]});function em(e){var n=e.currentUser;return(0,s.tZ)(C.G,{css:ep.container,children:(0,s.tZ)(C.G,{css:ep.row,children:(0,s.BX)(C.G,{css:ep.cell,children:[(0,s.tZ)(x.xv,{css:ep.label,children:"Your email"}),(0,s.tZ)(x.xv,{children:n.email})]})})})}var ef=t(60814),eg=t(55534),ev=t(24801),ey=t(89960),eb=t(97764),eZ=t(71411),ex=t(15146),ew=t(40102),eC=(0,er.X)({paymentMethodFormContainer:[T.l0.colWithGap(16)],paymentMethodFormHeader:[T.l0.rowWithGap(8),T.l0.align.center]});function e_(){var e=(0,eZ.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,r=e.goTo;switch(n.step){case"card_preferences":return(0,s.tZ)(ey.t,{goToNewPaymentMethodForm:function(){return r({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,s.BX)(C.G,{css:eC.paymentMethodFormContainer,children:[(0,s.BX)(C.G,{css:eC.paymentMethodFormHeader,children:[(0,s.tZ)(ex.hU,{alt:"Back",onClick:t,children:(0,s.tZ)(ew.Z,{})}),(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,s.tZ)(eb.q,{onSuccess:t,context:"account_page"})]})}}var eU=t(70002),eS=t(74094),eB=t(88936),eG=t(30703),eT=t(57784);function eP(){var e=(0,X._)(["\n  fragment IsYearlyBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        interval\n      }\n    }\n  }\n"]);return eP=function(){return e},e}function ek(){var e=(0,X._)(['\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    ...IsYearlyBillingCurrentUser\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n    hasUsageUtopia: gate(feature: "flag-usage-utopia")\n  }\n  ',"\n"]);return ek=function(){return e},e}function eI(){var e=(0,X._)(["\n  mutation BillingModalSetBillingPeriod($input: SetTrialBillingPeriodInput!) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...IsYearlyBillingCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return eI=function(){return e},e}var eD={},eX=(0,R.Ps)(eP()),eR=(0,R.Ps)(ek(),eX),eM=(0,R.Ps)(eI(),eX),eA=(0,er.X)({styles0:[T.l0.flex.row,T.l0.align.center,T.l0.pb(8)]}),eE=(0,er.X)({subsectionContainer:[T.l0.colWithGap(12),T.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+T.TV.outlineDimmest}}],planButtonLink:[T.l0.width("fit-content")],sectionDivider:[T.l0.width("100%"),T.l0.height(1),T.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eW(e){var n,t,r,i,l=e.currentUser,o=null==l?void 0:l.hasUsageUtopia,a=null==l?void 0:null===(t=l.billingInfo)||void 0===t?void 0:null===(n=t.planInfo)||void 0===n?void 0:n.provider,c=(null==l?void 0:null===(r=l.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==l?void 0:null===(i=l.cycles.transactions)||void 0===i?void 0:i.items.length)>0,u=a===k.Cs.Apple||a===k.Cs.Google?"Resource usage payment details":"Payment details";return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eE.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",children:"Your plan"}),(0,s.tZ)(ez,{currentUser:l}),o?null:(0,s.tZ)(eU.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,s.tZ)(eS.Z,{}),css:eE.planButtonLink})]}),(0,s.BX)(C.G,{css:eE.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:u}),(0,s.tZ)(e_,{})]}),o?(0,s.BX)(C.G,{css:eE.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),c?(0,s.tZ)(eN,{}):(0,s.tZ)(eU.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,s.tZ)(eS.Z,{}),css:eE.planButtonLink})]}):null]})}function eN(){var e=(0,ef.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,t=e.error,r=(0,s.tZ)(x.xv,{children:"Loading balance..."});return n?r=(0,s.BX)(s.HY,{children:[(0,s.tZ)(eS.Z,{size:16,css:{marginRight:2}}),(0,s.tZ)(x.xv,{multiline:!1,children:n})]}):t&&(r=(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:eA.styles0,children:r}),(0,s.tZ)(eU.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eE.planButtonLink})]})}function eV(e){var n,t,r=e.currentUser,i=r.billingInfo,l=r.userSubscription,o=(0,eg.Z)(),c=o.showConfirm,u=o.showError,d=(0,a._)((n=(0,D._)({},eD,{onCompleted:function(){c("Your billing period has been updated.")},onError:function(){u("Unable to update billing period.")}}),M.D(eM,n)),2),h=d[0],p=d[1].loading,m=null==l?void 0:l.isTrial,g=(0,ev.DC)(null==i?void 0:null===(t=i.planInfo)||void 0===t?void 0:t.interval),v="monthly"===g;return m&&g?(0,s.tZ)(f.zx,{text:v?"Save $100 with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:v?"blurple":void 0,disabled:p,iconLeft:p?(0,s.tZ)(eB.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===g?k.qh.Monthly:k.qh.Yearly}}})}}):null}function ez(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,i=null==t?void 0:t.planInfo,l=null==i?void 0:i.provider,o=(null==i?void 0:i.nextPaymentDue)?new Date(i.nextPaymentDue):null,a=(null==i?void 0:i.cancelAt)?new Date(i.cancelAt):null,c=(null==t?void 0:t.expiration)?new Date(t.expiration):null,u=null==i?void 0:i.coupon,d=(null==u?void 0:u.endAt)?new Date(u.endAt):void 0,h="",p=d?"until "+d.toDateString():"forever";u&&u.amount?h="Your plan is discounted by $".concat((u.amount/100).toFixed(2)," ").concat(p,"."):u&&u.percent&&(h="Your plan is discounted by ".concat(u.percent,"% ").concat(p,"."));var m=new Date,f=!!c&&m>c,g="You'll retain your ".concat(t?"paid ":"","benefits ")+(c?"until "+c.toDateString():"for a very long time.");return(l===k.Cs.Apple||l===k.Cs.Google)&&i?(0,s.tZ)(eT.Z,{planName:i.description,provider:l}):(0,s.BX)(s.HY,{children:[f||o||!i?null:(0,s.tZ)(x.xv,{variant:"small",multiline:!1,children:g}),a?(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted Repls in your plan's quota will automatically be un-Boosted. Repls Boosted through Cycles will remain unaffected.")}):null,u?(0,s.tZ)(b.E,{icon:(0,s.tZ)(eG.Z,{}),colorway:"positive",text:h}):null,(0,s.BX)(C.G,{css:eE.detailsGrid,children:[!f&&i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:i.description})]}):null,!f&&o?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,s.tZ)(x.xv,{multiline:!1,children:o.toDateString()})]}):null,(null==i?void 0:i.amount)?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,s.BX)(x.xv,{multiline:!1,children:["$",i.amount/100," per ",i.interval]}),(0,s.tZ)(C.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,s.tZ)(eV,{currentUser:n})})]}):null,f||o||!c?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,s.tZ)(x.xv,{multiline:!1,children:c.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)||(null==i?void 0:i.provider)===k.Cs.Stripe?(0,s.tZ)(s.HY,{children:(0,s.BX)(x.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,s.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,s.tZ)(x.xv,{multiline:!1,children:"No billing information"})]})}var eL=t(43182),eO=t(28074),ej=t(99705),eY=t(36655),eH=t(58719),eq=t(8017),e$=t(40028),eF=t(59060),eK=t(14819);function eQ(){var e=(0,X._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return eQ=function(){return e},e}function eJ(){var e=(0,X._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return eJ=function(){return e},e}function e0(){var e=(0,X._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return e0=function(){return e},e}var e1={},e2=(0,R.Ps)(eQ());eJ();var e3=(0,R.Ps)(e0(),e2),e6=(0,er.X)({styles0:[T.l0.colWithGap(16)],styles1:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.center],styles2:[T.l0.fontWeight.medium]}),e8=function(e){switch(e){case k.x9.Apple:return"apple.com";case k.x9.Facebook:return"facebook.com";case k.x9.Github:return"github.com";case k.x9.Google:return"google.com";default:(0,e$.Z)(e)}};function e4(e){var n,t,r,i,l,o=e.currentUser,h=(0,eO.L)().user,p=null!==(l=null==h?void 0:h.providerData)&&void 0!==l?l:[],m=(0,a._)((0,I.useState)(null),2),g=m[0],y=m[1],b=(0,a._)((0,I.useState)(null),2),Z=b[0],w=b[1],_=(0,eY.J)(),U=(0,a._)((n={onError:function(){return y("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){return[2,y(null)]})})},t=(0,D._)({},e1,n),M.D(e3,t)),2),S=U[0],B=U[1],G=(r=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:if(h)return[3,1];return eL.Tb(Error("Tried to connect OAuth provider without SDK user")),y("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return n=e8(e),[4,(0,d.Ps)(h,n)];case 2:"error"===(t=r.sent()).type&&("provider-exists"===t.treatment?y("This provider is already linked to your account."):y("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),T=(i=(0,c._)(function(e){var n,t,r,i;return(0,u.Jh)(this,function(l){switch(l.label){case 0:if(n=e.provider,t=e.name,h)return[3,1];return eL.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=e8(n),[4,(0,d.xV)(h,r)];case 2:if("error"===(i=l.sent()).type)switch(i.treatment){case"provider-not-linked":y("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":y("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,e$.Z)(i)}l.label=3;case 3:return S({variables:{provider:n.toUpperCase()}}),w(null),[2]}})}),function(e){return i.apply(this,arguments)});return(0,I.useEffect)(function(){var e;(0,d.WT)().then((e=(0,c._)(function(e){var n,t,r,i;return(0,u.Jh)(this,function(l){switch(l.label){case 0:if("success"!==e.type)return[3,7];if((null===(n=e.result)||void 0===n?void 0:n.providerId)!==eF._i)return[3,6];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,ej.d8)(e.result.user)];case 2:if("error"===(t=l.sent()).type)throw Error(t.message);return[3,4];case 3:return r=l.sent(),eL.Tb(r),[2];case 4:return[4,_({userCredential:e.result,oauthProviderId:eF._i,scopes:[]})];case 5:"error"===(i=l.sent()).type&&y(i.message),l.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":y("This provider cannot be used, please try another method.");break;case"email-conflict":y("This email cannot be used, please try another method.");break;case"forbidden-operation":y("That action is not permitted");break;case"user-needs-email":y("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":y("Something unexpected happened, please try again.");break;default:(0,e$.Z)(e)}return[2]}})}),function(n){return e.apply(this,arguments)})).catch(function(e){return eL.Tb(e)})},[]),(0,s.BX)(C.G,{css:e6.styles0,children:[[{name:"GitHub",provider:k.x9.Github,isConnected:o.githubAuth},{name:"Google",provider:k.x9.Google,isConnected:o.googleAuth},{name:"Facebook",provider:k.x9.Facebook,isConnected:o.facebookAuth},{name:"Apple",provider:k.x9.Apple,isConnected:o.appleAuth}].map(function(e){var n=e.name,t=e.provider,r=e.isConnected,i=e8(t),l=p.find(function(e){return e.providerId===i}),o=null!=r?r:void 0!==l;return(0,s.BX)(C.G,{css:e6.styles1,children:[(0,s.tZ)(x.xv,{color:o?"default":"dimmest",css:e6.styles2,children:n}),(0,s.tZ)("div",{children:o?(0,s.tZ)(f.zx,{onClick:function(){return w({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:B.loading,iconLeft:(0,s.tZ)(eH.Z,{})}):(0,s.tZ)(f.zx,{onClick:function(){return G(t)},text:"Connect",iconLeft:(0,s.tZ)(eq.Z,{})})})]},t)}),g?(0,s.tZ)(el,{children:g}):null,(0,s.tZ)(v.u,{isOpen:null!==Z,onRequestClose:function(){return w(null)},children:Z?(0,s.tZ)(eK.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(Z.name),onCancel:function(){return w(null)},onConfirm:function(){return T(Z)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var e9=t(30509),e5=t(76999),e7=t.n(e5),ne=t(79621),nn=t(32855),nt=t(93496),nr=t(8279),ni=t(29479),nl=t(39390),no=t(29358),na=t(63461),ns=t(5542),nc=t(33988),nu=t.n(nc);function nd(){var e=(0,X._)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    fullName\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return nd=function(){return e},e}function nh(){var e=(0,X._)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return nh=function(){return e},e}var np={},nm=(0,R.Ps)(nd()),nf=(0,R.Ps)(nh(),nm),ng=t(56971),nv=(0,er.X)({ruiInput:[T.l0.height(32),{fontSize:"".concat(T.TV.fontSizeDefault," !important"),backgroundColor:"".concat(nt.vb.interactiveBackground," !important"),transition:"border-color 120ms ease-out !important","&":{borderRadius:"".concat(T.TV.space4," !important")},":not(:disabled)":{borderColor:"".concat(nt.vb.interactiveBorder," !important")},"&:hover":{borderColor:"".concat(nt.vb.interactiveBorderHover," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(T.TV.accentPrimaryDefault," !important")}}]});function ny(e){var n,t,r=e.currentUser,i=(0,a._)((0,I.useState)(null),2),l=i[0],d=i[1],h=(0,a._)((0,I.useState)(!1),2),m=h[0],g=h[1],y=(0,I.useRef)(r.bio),b=(0,a._)((n=(0,D._)({},np,{onError:function(e){d(e.message||"Something went wrong. Please try again.")},onCompleted:function(){return d(null)}}),M.D(nf,n)),2),Z=b[0],x=b[1].loading,w=(0,p.Y)(r.firstName||"",function(e){if(e.length>250)return{message:"First name must be less than ".concat(250," characters.")}}),U=(0,p.Y)(r.lastName||"",function(e){if(e.length>250)return{message:"Last name must be less than ".concat(250," characters.")}}),S=(0,p.Y)(r.bio||"",function(e){if(e.length>140)return{message:"Bio name must be less than ".concat(140," characters.")}}),B=(t=(0,c._)(function(e){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return e.preventDefault(),[4,Z({variables:{input:{firstName:w.value,lastName:U.value,bio:S.value}}})];case 1:return n.sent(),y.current!==S.value&&((0,nn.w)({source:"profile",surface:"bio"}),y.current=S.value),[2]}})}),function(e){return t.apply(this,arguments)});return(0,s.BX)("div",{className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]]),children:[(0,s.BX)("div",{className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]])+" profile",children:[(0,s.tZ)("div",{className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]])+" profile-image",children:(0,s.BX)(C.G,{css:[T.l0.colWithGap(8),T.l0.width(128)],children:[(0,s.tZ)(ng.Z,{currentUser:r,onChange:function(e){return Z({variables:{input:{profileImageId:e.imageId}}})}}),r.hasProfileImage?(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(G.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return g(!0)}}):null]})}),(0,s.tZ)("div",{className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]])+" profile-info",children:(0,s.tZ)(P.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,s.tZ)("form",{onSubmit:B,className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]]),children:(0,s.BX)(P.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,s.tZ)(P.gC,{wrap:"nowrap",align:"end",children:(0,s.tZ)(no.ZP,{style:{cursor:"not-allowed",border:"none"},css:nv.ruiInput,disabled:!0,description:r.canChangeUsername?(0,s.BX)(s.HY,{children:["* You can change your username"," ",(0,s.tZ)(nu(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:r.username})}),(0,s.BX)(P.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,s.BX)(P.Ug,{spacing:2,wrap:"nowrap",children:[(0,s.tZ)(no.ZP,{css:nv.ruiInput,label:"First name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0}),(0,s.tZ)(no.ZP,{css:nv.ruiInput,label:"Last name",onChange:function(e){return U.setValue(e.target.value)},value:U.value,validationResults:U.error?[{message:U.error.message,state:"error"}]:void 0})]}),(0,s.BX)("div",{className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]]),children:[(0,s.tZ)(na.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,s.tZ)("textarea",{css:nv.ruiInput,maxLength:140,value:S.value,onChange:function(e){return S.setValue(e.target.value)},placeholder:"Add a bio",className:e7().dynamic([["eb9d7f32a9a7df20",[ni.j.mobileMax]]])}),(0,s.BX)(na.Z,{size:"xsmall",foreground:3,children:["* ",S.value.length," / ",140," characters"]})]})]}),l?(0,s.tZ)(el,{children:l}):null,(0,s.BX)(C.G,{css:[T.l0.flex.row,T.l0.justify.end,(0,o._)({gap:12},T.BC.max("mobileMax"),[T.l0.flex.column,{gap:8}])],children:[(0,s.tZ)(eU.Z,(0,e9._)((0,D._)({},(0,ns.Ru)({username:r.username,id:r.id,url:r.url})),{iconLeft:(0,s.tZ)(nl.Z,{}),text:"View my public profile"})),(0,s.tZ)(f.zx,{disabled:x,colorway:"primary",type:"submit",iconLeft:x?(0,s.tZ)(eB.Z,{}):(0,s.tZ)(_.Z,{}),text:"Save Changes",css:[x?nr.p.backgroundPulse(T.TV.accentPrimaryDimmest,T.TV.accentPrimaryDimmer):null]})]})]})})})})]}),(0,s.tZ)(v.u,{isOpen:m,onRequestClose:function(){return g(!1)},children:(0,s.tZ)(ne.Z,{name:"profile photo",entityType:"photo",delete:function(){Z({variables:{input:{profileImageId:null}}})},hideModal:function(){return g(!1)}})}),(0,s.tZ)(e7(),{id:"eb9d7f32a9a7df20",dynamic:[ni.j.mobileMax],children:".profile-image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-bottom:var(--space-16)}.profile-info.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (min-width:".concat(ni.j.mobileMax,"px){.profile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.profile-image.__jsx-style-dynamic-selector{padding-right:var(--space-16);width:-webkit-calc(128px + var(--space-16));width:-moz-calc(128px + var(--space-16));width:calc(128px + var(--space-16));padding-bottom:0}}.error.__jsx-style-dynamic-selector{padding:var(--space-8)0;color:var(--accent-negative-default)}textarea.__jsx-style-dynamic-selector{margin:var(--space-4)0;min-height:42px;height:100px;resize:none;font-size:var(--font-size-subhead-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.1s box-shadow;-moz-transition:.1s box-shadow;-o-transition:.1s box-shadow;transition:.1s box-shadow;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border:1px solid var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}")})]})}var nb=t(78066),nZ=t(56231),nx=t(38080);function nw(){var e=(0,X._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return nw=function(){return e},e}function nC(){var e=(0,X._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n          }\n        }\n      }\n    }\n  }\n"]);return nC=function(){return e},e}function n_(){var e=(0,X._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return n_=function(){return e},e}function nU(){var e=(0,X._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nU=function(){return e},e}var nS={},nB=(0,R.Ps)(nw()),nG=(0,R.Ps)(nC()),nT=(0,R.Ps)(n_()),nP=(0,R.Ps)(nU()),nk=(0,er.X)({styles0:[T.l0.pt(8),T.l0.colWithGap(8)],styles1:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.center,T.l0.p(8),T.l0.borderRadius(8)],styles2:[T.l0.rowWithGap(8)],styles3:[T.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}]});function nI(){var e,n,t,r,i=(0,a._)((0,I.useState)(null),2),l=i[0],o=i[1],c=(0,a._)((e=(0,D._)({},nS,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?o(e.addReplIdentityAllowedRepl.message):(o(null),Z())}}),M.D(nT,e)),2),u=c[0],d=c[1].loading,h=(0,a._)((n=(0,D._)({},nS,{onError:function(){return o("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?o(e.deleteReplIdentityAllowedRepl.message):(o(null),Z())}}),M.D(nP,n)),2),p=h[0],m=h[1].loading,g=(t=(0,D._)({},nS,void 0),A.a(nG,t)),v=g.data,y=g.loading,b=g.error,Z=g.refetch;if(y)return(0,s.tZ)(eB.Z,{});var w=(null==v?void 0:null===(r=v.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?v.allowedReplIdentityRepls.repls:[];return(0,s.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,s.tZ)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,s.tZ)(nZ.Z,{disabled:d,filter:function(e){return!w.find(function(n){return n.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){w.find(function(n){return n.id===e.id})||u({variables:{input:{replId:e.id}}})},showComboBox:!0}),w.length>0?(0,s.BX)(C.G,{css:nk.styles0,children:[(0,s.tZ)(x.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),w.map(function(e){return e?(0,s.BX)(nx.Tg,{background:"higher",css:nk.styles1,children:[(0,s.BX)(C.G,{css:nk.styles2,children:[(0,s.tZ)(nb.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,s.tZ)(x.xv,{multiline:!1,css:nk.styles3,children:e.title})]}),(0,s.tZ)(f.zx,{disabled:m,variant:"outlined",onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove"})]},e.id):null})]}):(0,s.tZ)("p",{children:"You haven't authorized any Repls yet."}),l?(0,s.tZ)(el,{children:l}):null,"string"==typeof b?(0,s.tZ)(el,{children:b}):null]})}var nD=t(63275),nX=t(93302),nR=t(63623),nM=t(6378),nA=t(32078);function nE(e){var n,t,r=e.billableMetric,i=(0,a._)((0,I.useState)(),2),l=i[0],s=i[1],c=(0,a._)((0,I.useState)(),2),u=c[0],d=c[1],h=(0,a._)((0,I.useState)(""),2),p=h[0],m=h[1],f=(t={},(0,o._)(t,k.oD.AutoscaleComputeSeconds,"ComputeUnits"),(0,o._)(t,k.oD.AccountDeploymentsEgress,"GiB"),(0,o._)(t,k.oD.AutoscaleRequests,"Requests"),(0,o._)(t,k.oD.NeonComputeTime,"ComputeHours"),(0,o._)(t,k.oD.NeonDataStorage,"GiB"),(0,o._)(t,k.oD.NeonDataTransfer,"GiB"),(0,o._)(t,k.oD.NeonWrittenData,"GiB"),t)[r],g=(0,nR.Ql)({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var n;if((null===(n=e.currentUser)||void 0===n?void 0:n.__typename)!=="CurrentUser"){d("Unexpected response");return}switch(e.currentUser.usageBasedBilling.__typename){case"UserUsageBasedBillingSummary":s(e.currentUser.usageBasedBilling),m(e.currentUser.username);break;case"UnauthorizedError":case"UserError":d(e.currentUser.usageBasedBilling.message);break;default:d("Unexpected response")}},onError:function(e){d(e.message)}}).loading,v=(0,I.useMemo)(function(){return(0,nA.lc)({billingPeriodSummary:null==l?void 0:l.currentBillingPeriod,billableMetric:r})},[l,r]),y=(0,I.useMemo)(function(){if(null==l?void 0:l.currentBillingPeriod){var e=new Date(l.currentBillingPeriod.billingPeriodEnd);if(e)return{long:e.toLocaleString("default",{month:"long",day:"numeric"}),short:e.toLocaleString("default",{month:"2-digit",day:"numeric"})}}},[l]),b=null==l?void 0:null===(n=l.currentBillingPeriod)||void 0===n?void 0:n.totals.find(function(e){return e.billableMetric===r}),Z=null==b?void 0:b.usage,x=null==b?void 0:b.freeUnits,w=null!=Z&&null!=x?Math.max(Z,x):void 0,C=null==b?void 0:b.overageCostsUSD,_=void 0;w&&0!==w?_="".concat((0,nX.fZ)(null!=Z?Z:0,{resourceUsageType:f,precision:1,skipUnits:!0})," / ").concat((0,nX.fZ)(w,{resourceUsageType:f,precision:1})):Z&&(_="".concat((0,nX.fZ)(Z,{resourceUsageType:f,precision:1})));var U=y?"Resets on ".concat(y.long):"",S=y?"Resets ".concat(y.short):"",B=nV({totalUsage:null!=Z?Z:void 0,totalFreeUnits:null!=x?x:void 0,overageCostsUSD:null!=C?C:void 0,resourceUsageType:f});return{username:p,loading:g,errorMessage:u,resourceSummary:v,resourceUsageType:f,totalUsageMessage:_,statusMessageLong:U,statusMessageShort:S,overageIndicator:B}}var nW=function(e){var n=e.context,t=e.title,r=e.titleShort,i=e.infoTooltipMessage,l=nE({billableMetric:e.billableMetric}),o=l.loading,a=l.totalUsageMessage,c=l.resourceSummary,u=l.resourceUsageType,d=l.username,h=l.statusMessageLong,p=l.errorMessage,m=l.overageIndicator;return(0,s.tZ)(nM.Z,{context:n,title:t,titleShort:r,infoTooltipMessage:i,totalUsageMessage:a,resourceSummary:c,resourceUsageType:u,username:d,statusMessage:h,errorMessage:p,loading:o,overageSummary:null==m?void 0:m.summary,overageIndicator:null==m?void 0:m.indicator})},nN=(0,er.X)({usage:[{fontWeight:T.TV.fontWeightBold}]}),nV=function(e){var n=e.totalUsage,t=e.totalFreeUnits,r=e.overageCostsUSD,i=e.resourceUsageType;if(null!=n&&null!=t&&null!=r&&(!(n<=t)||!(r<=0)))return{indicator:(0,s.BX)(x.xv,{color:"dimmer",children:[(0,s.tZ)(x.xv,{css:T.l0.color.accentPrimaryStrongest,children:"Limit depleted "}),"(",(0,nX.fZ)(Math.max(0,n),{resourceUsageType:i,precision:1,skipUnits:!0})," ","used)"]}),summary:(0,s.BX)(x.xv,{children:[(0,s.tZ)(x.xv,{css:nN.usage,children:(0,nX.fZ)(Math.max(0,n-t),{resourceUsageType:i,precision:1,additional:!0})})," ","(",Math.max(0,r).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),") ",(0,s.tZ)(x.xv,{color:"dimmer",children:"this month so far"})]})}},nz=t(75928),nL=t(49996),nO=(0,er.X)({self:[T.l0.colWithGap(6)],header:[T.l0.flex.row,T.l0.rowWithGap(0),T.l0.flex.growAndShrink(1),T.l0.justify.spaceBetween,T.l0.align.baseline],title:[T.l0.flex.growAndShrink(0)],info:[T.l0.rowWithGap(4),T.l0.align.center],loader:[T.l0.justify.center,T.l0.flex.row],usage:[T.l0.flex.growAndShrink(0),T.l0.align.baseline,T.l0.flex.row],total:[T.l0.py(1),T.l0.flex.growAndShrink(0)],tooltipIcon:[(0,o._)({},(0,nL.EM)("mobileMax"),[T.l0.display.none])]}),nj=function(e){var n=e.context,t=e.title,r=e.billableMetric,i=e.infoTooltipMessage,l=nE({billableMetric:r}),o=l.loading,a=l.totalUsageMessage,c=l.resourceSummary,u=l.resourceUsageType,d=l.username,h=l.statusMessageShort,p=l.errorMessage,m=l.overageIndicator,f=(null==m?void 0:m.indicator)?m.indicator:a?(0,s.tZ)(x.xv,{variant:"small",color:"dimmer",css:nO.total,multiline:!1,children:a}):null;return(0,s.BX)(C.G,{css:nO.self,children:[(0,s.BX)(C.G,{css:nO.header,children:[(0,s.tZ)(x.xv,{variant:"small",color:"dimmest",css:nO.title,children:t}),(0,s.tZ)(C.G,{css:nO.info,children:o?(0,s.tZ)(C.G,{css:nO.loader,children:(0,s.tZ)(eB.Z,{size:12})}):(0,s.BX)(s.HY,{children:[(0,s.BX)(x.xv,{variant:"small",color:"dimmest",css:nO.usage,children:[f," \xa0\xa0",h]}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:i}),children:(0,s.tZ)(S.Z,{css:nO.tooltipIcon,size:12})})]})})]}),p?(0,s.tZ)(b.E,{colorway:"negative",text:p}):null,c?(0,s.tZ)(nz.$,{small:!0,summary:c,context:{type:"cycles_page"===n?n:"account_page"},username:d,resourceUsageType:u}):null]},r)},nY=(0,er.X)({header:[T.l0.rowWithGap(16),T.l0.align.center,T.l0.justify.spaceBetween,T.l0.mb(12),(0,o._)({},(0,nL.EM)("mobileMax"),[T.l0.flex.wrap])],main:[T.l0.rowWithGap(4),T.l0.align.center],title:[T.l0.display.flex,(0,o._)({},(0,nL.EM)("mobileMax"),[T.l0.display.none])],titleShort:[T.l0.display.none,(0,o._)({},(0,nL.EM)("mobileMax"),{display:"unset"})],tooltipIcon:(0,o._)({},(0,nL.EM)("mobileMax"),[T.l0.display.none]),items:[T.l0.colWithGap(12),T.l0.flex.growAndShrink(1)]}),nH=function(e){var n=e.context,t=e.title,r=e.titleShort,i=e.infoTooltipMessage,l=e.billableMetrics;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(C.G,{tag:"header",css:nY.header,children:(0,s.BX)(C.G,{css:nY.main,children:[(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:nY.title,children:t}),(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:nY.titleShort,children:r}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:i}),children:(0,s.tZ)(S.Z,{css:nY.tooltipIcon})})]})}),(0,s.tZ)(C.G,{css:nY.items,children:l.map(function(e){var t=e.title,r=e.billableMetric,i=e.infoTooltipMessage;return(0,s.tZ)(nj,{context:n,title:t,billableMetric:r,infoTooltipMessage:i},r)})})]})},nq=t(38213),n$=t(12912),nF=t(14986),nK=(0,er.X)({section:[T.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+T.TV.outlineDimmest}}],buttonLink:[T.l0.width("fit-content")],buttonContainer:[T.l0.p(16)]});function nQ(e){var n=e.children;return(0,s.tZ)(C.G,{css:nK.section,children:n})}var nJ=function(){return(0,nq.A)()?(0,s.tZ)(C.G,{css:nK.buttonContainer,children:(0,s.tZ)(eU.Z,{href:"/usage",variant:"outlined",text:"View Usage",iconLeft:(0,s.tZ)(n$.Z,{}),css:nK.buttonLink})}):(0,s.BX)(C.G,{children:[(0,s.tZ)(nQ,{children:(0,s.tZ)(nW,{context:"account_resource_usage",billableMetric:k.oD.AutoscaleComputeSeconds,title:"Autoscale Deployments",titleShort:"Autoscale Deployments",infoTooltipMessage:"Usage of Autoscale Deployments is measured in compute units."})}),(0,s.tZ)(nQ,{children:(0,s.tZ)(nW,{context:"account_resource_usage",billableMetric:k.oD.AccountDeploymentsEgress,title:"Deployments Outbound Data Transfer",titleShort:"Deployments Data Transfer",infoTooltipMessage:"Usage of Deployments Outbound Data Transfer is measured in bytes."})}),(0,s.tZ)(nQ,{children:(0,s.tZ)(nW,{context:"account_resource_usage",billableMetric:k.oD.AutoscaleRequests,title:"Autoscale Incoming Requests",titleShort:"Autoscale Requests",infoTooltipMessage:"Usage of Autoscale Incoming Requests is measured in requests."})}),(0,s.tZ)(nQ,{children:(0,s.tZ)(nH,{context:"account_resource_usage",title:"PostgreSQL Database",titleShort:"PostgreSQL Database",infoTooltipMessage:"Usage of PostgreSQL Databases are measured across the metrics listed below.",billableMetrics:[{title:"Compute time",titleShort:"Compute time",billableMetric:k.oD.NeonComputeTime,infoTooltipMessage:"The amount of compute resources used per hour."},{title:"Data storage",titleShort:"Data storage",billableMetric:k.oD.NeonDataStorage,infoTooltipMessage:"The volume of data and history stored."},{title:"Data transfer",titleShort:"Data transfer",billableMetric:k.oD.NeonDataTransfer,infoTooltipMessage:"The volume of data transferred out."},{title:"Written data",titleShort:"Written data",billableMetric:k.oD.NeonWrittenData,infoTooltipMessage:"The volume of data written from compute to storage."}]})}),(0,s.tZ)(nQ,{children:(0,s.tZ)(nD.Z,{context:"account_resource_usage"})}),(0,s.tZ)(nQ,{children:(0,s.tZ)(nF.r,{context:"account_page"})})]})},n0=t(25632),n1=t(60561),n2=t(60769),n3=t(10981),n6=(0,er.X)({preferencesContainer:[T.l0.colWithGap(24)],preference:[T.l0.rowWithGap(8),T.l0.justify.spaceBetween],labelTitle:[T.l0.fontWeight.medium]});function n8(){var e=(0,n0.Gn)("extraDelight"),n=e.preferences,t=e.update,r=(0,n1.$0)().fireCircularBurstFrom,i=(0,n3.U)();return(0,s.tZ)(C.G,{css:n6.preferencesContainer,children:(0,s.BX)(C.G,{css:n6.preference,children:[(0,s.BX)(C.G,{tag:"label",htmlFor:i("delight"),children:[(0,s.tZ)(x.xv,{css:n6.labelTitle,children:"Extra delight mode"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,s.tZ)(n2.X,{id:i("delight"),checked:n.extraDelight,onChange:function(e){e.target.checked&&r({element:e.target}),t({extraDelight:e.target.checked})}})]})})}var n4=t(87279);function n9(){var e=(0,X._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return n9=function(){return e},e}function n5(){var e=(0,X._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return n5=function(){return e},e}var n7={},te=(0,R.Ps)(n9()),tn=(0,R.Ps)(n5(),te),tt=(0,er.X)({rolesContainer:[T.l0.colWithGap(24),T.l0.align.stretch],role:[T.l0.rowWithGap(8),T.l0.align.center,T.l0.justify.spaceBetween],label:[T.l0.fontWeight.medium]});function tr(e){var n,t=e.currentUser,r=(0,a._)((0,I.useState)(null),2),i=r[0],l=r[1],o=t.roles.map(function(e){return e.key}),c=(0,a._)((n=(0,D._)({},n7,{onError:function(){return l("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)==="UserError"?l(e.updateRole.message):l(null)}}),M.D(tn,n)),2),u=c[0],d=c[1].loading;return(0,s.BX)(C.G,{css:tt.rolesContainer,children:[[{name:"Explorer",role:k.SM.Explorer}].map(function(e){var n=e.name,t=e.role,r=o.includes(t);return(0,s.BX)(I.Fragment,{children:[(0,s.BX)(C.G,{css:tt.role,children:[(0,s.tZ)(x.xv,{color:r?"default":"dimmest",css:tt.label,children:n}),(0,s.tZ)(Z.r,{isSelected:r,onChange:function(){d||u({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===k.SM.Explorer?(0,s.tZ)(b.E,{icon:(0,s.tZ)(n4.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},t)}),i?(0,s.tZ)(el,{children:i}):null]})}var ti=t(66587),tl=(0,er.X)({container:[T.l0.colWithGap(16)],row:[T.l0.rowWithGap(16),T.l0.justify.spaceBetween,T.l0.align.center],property:[T.l0.colWithGap(4)],label:[T.l0.fontWeight.medium]}),to=function(e){var n=e.context,t=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,s.tZ)(C.G,{css:tl.container,children:(0,s.BX)(C.G,{css:tl.row,children:[(0,s.BX)(C.G,{css:tl.property,children:[(0,s.tZ)(x.xv,{css:tl.label,children:"Phone Number"}),(0,s.tZ)(x.xv,{children:r})]}),(0,s.tZ)(w.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,s.tZ)(f.zx,{text:"Edit",iconLeft:(0,s.tZ)(U.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,s.tZ)(ti.Z,{context:n,onSuccess:t,autoFocus:!1})},ta=t(75246),ts=t(79378),tc=t(27302),tu=t(73764),td=t(50946),th=t(80339),tp=t(84822),tm=t(58003),tf=t(46320),tg=t(13051),tv=t(28121),ty=t(71144),tb=function(e){var n=e.isOpen,t=e.setOpen,r=e.feature;return(0,s.tZ)(s.HY,{children:(0,s.tZ)(ty.b5,{children:(0,s.tZ)(v.u,{isOpen:n,onRequestClose:function(){t(!1)},children:(0,s.tZ)(tv.Z,{setFeedbackFormOpen:t,feature:r})})})})},tZ=function(e){var n=e.feature,t=(0,a._)((0,I.useState)(!1),2),r=t[0],i=t[1];return(0,s.BX)(s.HY,{children:[(0,s.tZ)(C.G,{onClick:function(){return i(!r)},children:(0,s.tZ)(x.xv,{multiline:!1,css:[T.l0.fontSize("inherit"),T.l0.color.accentPrimaryStronger,T.l0.cursor.pointer,{":hover":{color:T.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,s.tZ)(tb,{feature:n,isOpen:r,setOpen:i})]})},tx=t(99656),tw=t(17054),tC=(0,er.X)({section:[T.l0.borderRadius(12)],self:[T.l0.colWithGap(8),T.l0.align.stretch,T.l0.position.relative],header:[T.l0.flex.row,T.l0.justify.spaceBetween,(0,o._)({},T.BC.max("mobileMax"),[T.l0.colWithGap(8)])],actions:[T.l0.align.center,T.l0.rowWithGap(8)],actionButton:[(0,o._)({},T.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[T.l0.rowWithGap(8),T.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function t_(e){var n=e.title,t=e.children,r=(0,tw.oM)();return(0,s.BX)(C.G,{css:tC.self,children:[(0,s.tZ)(C.G,{css:tC.linkAnchor,id:"themes"}),(0,s.BX)(C.G,{css:tC.header,children:[(0,s.BX)(C.G,{css:tC.titleWrapper,children:[(0,s.tZ)(x.xv,{variant:"subheadBig",id:n.toLowerCase(),multiline:!1,children:n}),(0,s.tZ)(tZ,{feature:tv.l.Themes})]}),(0,s.BX)(C.G,{css:tC.actions,children:[(0,s.tZ)(eU.Z,{dataCy:"browse-themes-button",iconLeft:(0,s.tZ)(eq.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:tC.actionButton}),(0,s.tZ)(eU.Z,{dataCy:"create-theme-button",iconLeft:(0,s.tZ)(tx.Z,{}),text:"Create Theme",colorway:"primary",href:tw.ZS.href,as:tw.ZS.as,css:tC.actionButton})]})]}),(0,s.tZ)(nx.Tg,{elevated:!0,tag:"section",css:tC.section,children:t})]})}var tU=t(17507),tS=t(44524);function tB(){var e=(0,X._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return tB=function(){return e},e}function tG(){var e=(0,X._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return tG=function(){return e},e}var tT=(0,R.Ps)(tB(),tU.LX,tS.x2,tS.sj),tP=(0,R.Ps)(tG(),tT);function tk(){var e=(0,X._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tk=function(){return e},e}var tI={},tD=(0,R.Ps)(tk(),tT),tX=t(3310),tR=(0,er.X)({self:[T.l0.colWithGap(12)]}),tM=function(){var e,n,t,r,i=(0,eg.Z)().showError,l=(0,n3.U)(),o=(0,a._)((0,I.useState)({count:6}),2),c=o[0],u=o[1],d=(e=(0,D._)({},tI,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),A.a(tD,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.authoredThemes)||void 0===n?void 0:n.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==r?e.concat([(0,D._)({type:"custom",values:r},n)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,e9._)((0,D._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,e9._)((0,D._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:tR.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,s.tZ)(tX.Z,{name:l("custom-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:tD,input:c}})]})};function tA(){var e=(0,X._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tA=function(){return e},e}var tE={},tW=(0,R.Ps)(tA(),tP),tN=(0,er.X)({self:[T.l0.colWithGap(12)]}),tV=function(){var e,n,t,r,i=(0,eg.Z)().showError,l=(0,n3.U)(),o=(0,a._)((0,I.useState)({count:6}),2),c=o[0],u=o[1],d=(e=(0,D._)({},tE,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),A.a(tW,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.installedThemes)||void 0===n?void 0:n.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,n){var t,r=n.customTheme,i=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==i?e.concat([(0,D._)({type:"custom",values:i},r)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,e9._)((0,D._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,e9._)((0,D._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:tN.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,s.tZ)(tX.Z,{name:l("installed-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:tW,input:c}})]})},tz=t(43349),tL=(0,er.X)({subsection:[T.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+T.TV.outlineDimmest}}]}),tO=function(){return(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:tL.subsection,children:(0,s.tZ)(tz.Z,{})}),(0,s.tZ)(C.G,{css:tL.subsection,children:(0,s.tZ)(tM,{})}),(0,s.tZ)(C.G,{css:tL.subsection,children:(0,s.tZ)(tV,{})})]})},tj=function(){return(0,s.tZ)(t_,{title:"Themes",children:(0,s.tZ)(tO,{})})};function tY(){var e=(0,X._)(["\n  mutation ManageUserSshKeysAddSshKey($input: AddPublicSshKeyInput!) {\n    addPublicSshKey(input: $input) {\n      __typename\n      ... on AddPublicSshKeyOutput {\n        __typename\n        key\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return tY=function(){return e},e}function tH(){var e=(0,X._)(["\n  mutation ManageUserSshKeysDeleteSshKey($input: DeletePublicSshKeyInput!) {\n    deletePublicSshKey(input: $input) {\n      __typename\n      ... on DeletePublicSshKeyOutput {\n        __typename\n        id\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on ServiceUnavailable {\n        __typename\n        message\n      }\n    }\n  }\n"]);return tH=function(){return e},e}function tq(){var e=(0,X._)(["\n  query ManageUserSshKeysCurrentUser {\n    currentUser {\n      id\n      __typename\n      publicSshKeys {\n        ... on PublicSshKeysOutput {\n          __typename\n          keys {\n            id\n            key\n            label\n            timeCreated\n          }\n        }\n        ... on UnauthorizedError {\n          __typename\n          message\n        }\n      }\n    }\n  }\n"]);return tq=function(){return e},e}var t$={},tF=(0,R.Ps)(tY()),tK=(0,R.Ps)(tH()),tQ=(0,R.Ps)(tq()),tJ=function(e){var n=e.onClose,t=e.onConfirm,r=e.isOpen;return(0,s.tZ)(v.u,{centered:!0,isOpen:r,onRequestClose:n,children:(0,s.BX)(C.G,{css:t0.self,children:[(0,s.tZ)(x.xv,{variant:"headerDefault",children:"Delete SSH key"}),(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Are you sure you want to permanently delete this SSH key?"}),(0,s.tZ)(x.xv,{multiline:!0,children:"This action cannot be undone. If you want to use this key again in the future, you can add it again."}),(0,s.BX)(C.G,{css:t0.actionWrapper,children:[(0,s.tZ)(f.zx,{text:"Cancel",onClick:n}),(0,s.tZ)(f.zx,{colorway:"negative",text:"Confirm and delete SSH key",onClick:t})]})]})})},t0=(0,er.X)({self:[T.l0.colWithGap(16)],actionWrapper:[T.l0.rowWithGap(16),T.l0.justify.start]}),t1=t(71064),t2=t(78037),t3=function(e){var n,t=e.keys,r=(0,eg.Z)(),i=r.showConfirm,l=r.showError,o=(0,a._)((0,I.useState)(!1),2),c=o[0],u=o[1],d=(0,a._)((n=(0,D._)({},t$,{onCompleted:function(e){switch(e.deletePublicSshKey.__typename){case"UnauthorizedError":case"ServiceUnavailable":case"NotFoundError":l(e.deletePublicSshKey.message);break;case"DeletePublicSshKeyOutput":i("SSH key deleted");break;default:(0,e$.Z)(e.deletePublicSshKey)}},onError:function(e){l("Something unexpected happened while deleting the SSH key")},refetchQueries:[tQ]}),M.D(tK,n)),2),h=d[0],p=d[1].loading;return 0===t.length?null:(0,s.tZ)(C.G,{tag:"ul",css:t4.self,children:t.map(function(e){var n=e.timeCreated,t=e.label,r=e.key,i=e.id;return(0,s.BX)(nx.Tg,{elevated:!0,css:t4.sshKeyItem,tag:"li",children:[(0,s.BX)(C.G,{css:t4.keyItemHeader,children:[(0,s.tZ)(x.xv,{variant:"small",css:t4.keyLabelText,children:t}),(0,s.tZ)(ex.hU,{alt:"Delete public SSH key",disabled:p,onClick:function(){u(!0)},children:(0,s.tZ)(G.Z,{size:24})})]}),(0,s.BX)(C.G,{css:t4.keyTextWrapper,children:[(0,s.tZ)(t1.Z,{css:t4.keyIcon}),(0,s.tZ)(t6,{sshKey:r})]}),(0,s.tZ)(C.G,{css:t4.keyTime,tag:"time",dateTime:n,children:(0,s.BX)(x.xv,{variant:"small",color:"dimmer",children:["Added on"," ",new Date(n).toLocaleDateString(void 0,{dateStyle:"long"})]})}),(0,s.tZ)(tJ,{isOpen:c,onClose:function(){return u(!1)},onConfirm:function(){h({variables:{input:{id:i}}}),u(!1)}})]},i)})})},t6=function(e){var n=e.sshKey,t=t8(n),r=(0,a._)(t.ok?["".concat(t.value.keyType," ").concat(t.value.encodedKey.slice(0,-8)),"".concat(t.value.encodedKey.slice(-8)," ").concat(t.value.comment)]:[n.slice(0,-8),n.slice(-8)],2),i=r[0],l=r[1];return(0,s.BX)(C.G,{css:t4.keyValueWrapper,children:[(0,s.tZ)(x.xv,{variant:"small",color:"dimmer",maxLines:1,css:t4.keyValuePrefix,children:i}),(0,s.tZ)(x.xv,{variant:"small",color:"dimmer",maxLines:1,css:t4.keyValueSuffix,children:l})]})},t8=function(e){var n=e.split(" ");return n.length<3?t2.ZP.Err("Key is in an unexpected format"):t2.ZP.Ok({keyType:n[0],encodedKey:n[1],comment:n[2]})},t4=(0,er.X)({self:[T.l0.colWithGap(8)],keyIcon:[T.l0.color.foregroundDimmer],keyTextWrapper:[T.l0.rowWithGap(8),T.l0.align.center],sshKeyItem:[T.l0.colWithGap(4),T.l0.p(8)],keyItemHeader:[T.l0.rowWithGap(8),T.l0.justify.spaceBetween,T.l0.align.center],keyValueWrapper:[T.l0.rowWithGap(0),T.l0.flex.shrink(1)],keyTime:[T.l0.color.foregroundDimmer],keyLabelText:[T.l0.fontWeight.medium],keyValuePrefix:[T.l0.flex.shrink(1),{whiteSpace:"nowrap"},T.l0.truncate,T.l0.font.code],keyValueSuffix:[{whiteSpace:"nowrap"},T.l0.truncate,T.l0.font.code],loadingPlaceholder:[T.l0.backgroundColor.backgroundDefault,nr.p.backgroundPulse(),T.l0.borderRadius(4),T.l0.p(8),T.l0.height(24)]}),t9=function(e){var n=e.children;return(0,s.tZ)(nx.Tg,{elevated:!0,css:t5.self,children:n})},t5=(0,er.X)({self:[T.l0.rowWithGap(8),T.l0.py(4),T.l0.px(8),T.l0.borderRadius(8),T.l0.align.center,T.l0.flex.growAndShrink(1),{borderWidth:1,borderStyle:"solid",alignSelf:"start",borderColor:T.TV.outlineDimmer}]}),t7=function(){var e,n,t=(e=(0,D._)({},t$,void 0),A.a(tQ,e)),r=t.data,i=t.loading,l=r&&(null===(n=r.currentUser)||void 0===n?void 0:n.__typename)==="CurrentUser"&&"PublicSshKeysOutput"===r.currentUser.publicSshKeys.__typename?r.currentUser.publicSshKeys.keys:[];return(0,s.BX)(nx.Tg,{elevated:!0,tag:"section",css:re.self,children:[(0,s.tZ)(x.xv,{children:"Authorized keys for SSH access to Repls owned by you"}),i?(0,s.tZ)(C.G,{css:re.loadingPlaceholder}):(0,s.tZ)(t3,{keys:l}),(0,s.BX)(t9,{children:[(0,s.tZ)(S.Z,{}),(0,s.BX)(x.xv,{children:["Having trouble connecting?"," ",(0,s.tZ)(C.G,{tag:"a",href:"https://docs.replit.com/power-ups/ssh",target:"_blank",css:re.docLink,children:"Read the docs"})]})]})]})},re=(0,er.X)({docLink:[T.l0.color.foregroundDefault,T.l0.display.inline,{textDecoration:"underline"}],self:[T.l0.borderRadius(12),T.l0.p(16),T.l0.colWithGap(12)],loadingPlaceholder:[T.l0.backgroundColor.backgroundDefault,nr.p.backgroundPulse(),T.l0.borderRadius(4),T.l0.p(8),T.l0.height(24)]}),rn=function(e){var n,t=e.onConfirm,r=(0,eg.Z)(),i=r.showConfirm,l=r.showError,o=(0,n3.U)(),d=(0,p.Y)("",rr),h=(0,p.Y)("",rr),m=(0,a._)((n=(0,D._)({},t$,{onCompleted:function(){d.setValue(""),h.setValue(""),i("SSH key added"),t()},onError:function(e){l("Error adding SSH key: ".concat(e.message))},refetchQueries:[tQ]}),M.D(tF,n)),2),v=m[0],y=m[1].loading;return(0,s.BX)(C.G,{css:ri.self,children:[(0,s.tZ)(x.xv,{variant:"headerDefault",children:"Add a new SSH key"}),(0,s.BX)(C.G,{css:ri.input,children:[(0,s.tZ)(C.G,{tag:"label",htmlFor:o("label-input"),children:"Label"}),(0,s.tZ)(g.II,{id:o("label-input"),placeholder:"Enter a label to identify this SSH key...",value:h.value,onChange:function(e){return h.setValue(e.target.value)}})]}),(0,s.BX)(C.G,{css:ri.input,children:[(0,s.tZ)(C.G,{tag:"label",htmlFor:o("key-input"),children:"Key"}),(0,s.tZ)(g.B,{autoSize:!0,id:o("key-input"),placeholder:rt,value:d.value,onChange:function(e){return d.setValue(e.target.value)}})]}),(0,s.tZ)(C.G,{css:ri.actionWrapper,children:(0,s.tZ)(f.zx,{disabled:y,colorway:"primary",text:"Add SSH key",type:"submit",iconLeft:(0,s.tZ)(_.Z,{}),onClick:(0,c._)(function(){var e,n;return(0,u.Jh)(this,function(t){switch(t.label){case 0:return[4,d.validate()];case 1:return e=t.sent(),[4,h.validate()];case 2:if(n=t.sent(),e)return l(e.message),[2];if(n)return l(n.message),[2];return[4,v({variables:{input:{key:d.value.trim(),label:h.value.trim()}}})];case 3:return t.sent(),[2]}})})})})]})},rt="Begins with 'ssh-rsa', 'ecdsa-sha2-nistp256', 'ecdsa-sha2-nistp384', 'ecdsa-sha2-nistp521', 'ssh-ed25519', 'sk-ecdsa-sha2-nistp256@openssh.com', or 'sk-ssh-ed25519@openssh.com'",rr=function(e){if(""===e.trim())return{message:"SSH key is cannot be empty",severity:"error"}},ri=(0,er.X)({self:[T.l0.colWithGap(16)],input:[T.l0.colWithGap(8)],actionWrapper:[T.l0.flex.row]}),rl=function(){var e=(0,a._)((0,I.useState)(!1),2),n=e[0],t=e[1];return(0,s.BX)(C.G,{css:ro.self,children:[(0,s.BX)(C.G,{css:ro.header,children:[(0,s.tZ)(C.G,{css:ro.titleWrapper,children:(0,s.tZ)(x.xv,{variant:"subheadBig",multiline:!1,children:"SSH Keys"})}),(0,s.tZ)(C.G,{css:ro.actions,children:(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(tx.Z,{}),text:"Add SSH key",colorway:"primary",onClick:function(){return t(!0)},css:ro.actionButton})})]}),(0,s.tZ)(t7,{}),(0,s.tZ)(v.u,{isOpen:n,onRequestClose:function(){return t(!1)},centered:!0,children:(0,s.tZ)(rn,{onConfirm:function(){return t(!1)}})})]})},ro=(0,er.X)({self:[T.l0.colWithGap(8),T.l0.align.stretch,T.l0.position.relative],header:[T.l0.flex.row,T.l0.justify.spaceBetween,(0,o._)({},T.BC.max("mobileMax"),[T.l0.colWithGap(8)])],actions:[T.l0.align.center,T.l0.rowWithGap(8)],actionButton:[(0,o._)({},T.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[T.l0.rowWithGap(8),T.l0.align.baseline]}),ra=t(97458);function rs(){var e=(0,X._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return rs=function(){return e},e}var rc={},ru=(0,R.Ps)(rs(),nm,j,eR,te,ee,e2,nB),rd=(0,er.X)({page:[T.l0.flex.column,T.l0.px(16),T.l0.py(64),T.l0.pt(32),(r={marginBottom:"50vh",gap:T.TV.space32},(0,o._)(r,T.BC.max("mobileMax"),[T.l0.pt(24),{gap:T.TV.space16}]),(0,o._)(r,T.BC.max("tabletMax"),[T.l0.mb(0)]),r)],tabContainerTop:[nt.gU.listItem,T.l0.p(4),T.l0.rowWithGap(8),T.l0.borderRadius()],profilePicture:[T.l0.width(44),T.l0.height(44)],nameContainer:[T.l0.flex.column,T.l0.color.foregroundDefault],firstLastName:[T.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[T.l0.flex.row,T.l0.justify.center,(0,o._)({gap:T.TV.space32},T.BC.max("tabletMax"),[T.l0.pb(32),T.l0.flex.column,{gap:T.TV.space16}])],sectionContainer:[T.l0.colWithGap(32),(0,o._)({},T.BC.min("tabletMax"),T.l0.maxWidth(600))],loadingContainer:[T.l0.width(600),T.l0.maxWidth("100%"),T.l0.height(128),T.l0.center],tabContainerWrapper:[T.l0.colWithGap(8),T.l0.width(200),T.l0.position.sticky,T.l0.top(80),(i={alignSelf:"flex-start"},(0,o._)(i,T.BC.max("tabletMax"),[T.l0.width("100%"),T.l0.position.relative,T.l0.top("revert"),T.l0.mb(0)]),(0,o._)(i,T.BC.max("tabletMax"),[T.l0.display.none]),i)],tabContainerAccordion:[T.l0.mb(0),T.l0.mx(8),T.l0.shadow(1),T.l0.borderRadius(),T.l0.zIndex(1),T.l0.position.sticky,T.l0.top(56),T.l0.overflow("hidden"),T.l0.border({color:T.TV.outlineDimmest}),(l={backgroundColor:nt.vb.interactiveBackground,"& > button":{padding:T.TV.space8,fontWeight:T.TV.fontWeightMedium,borderRadius:8}},(0,o._)(l,T.BC.min("tabletMax"),[T.l0.display.none]),(0,o._)(l,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(T.TV.outlineDimmest)}),l)],tabComponent:[nt.gU.listItem,T.l0.p(8),T.l0.display.flex,T.l0.borderRadius(),T.l0.rowWithGap(8),T.l0.height(32),T.l0.align.center,{"&:hover":{color:T.TV.foregroundDefault},"&:hover > svg":{color:T.TV.foregroundDefault}}],tabComponentBorder:[T.l0.my(2),T.l0.mx(4),T.l0.height(1),T.l0.width("calc(100% - 8px)"),T.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":T.l0.borderRadius(0)},roundedCorners:{"& a":T.l0.borderRadius()}}),rh=(0,er.X)({base:[rd.tabComponent,T.l0.backgroundColor.backgroundRoot,T.l0.color.foregroundDimmer,{"& > svg":T.l0.color.foregroundDimmest}],selected:[rd.tabComponent,T.l0.backgroundColor.backgroundDefault,T.l0.color.foregroundDefault,{"& > svg":T.l0.color.foregroundDefault}]}),rp=[{icon:(0,s.tZ)(tg.Z,{}),label:"Profile",href:"profile"},{icon:(0,s.tZ)(tm.Z,{}),label:"Account",href:"account"},{icon:(0,s.tZ)(_.Z,{}),label:"Verification",href:"verification"},{icon:(0,s.tZ)(td.Z,{}),label:"Billing",href:"billing"},{icon:(0,s.tZ)(tu.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,s.tZ)(tc.Z,{}),label:"Roles",href:"roles"},{icon:(0,s.tZ)(tf.Z,{}),label:"Resource usage",href:"resource-usage"},{icon:(0,s.tZ)(t1.Z,{}),label:"SSH keys",href:"ssh-keys"},{icon:(0,s.tZ)(eq.Z,{}),label:"Connected services",href:"connected-services"},{icon:(0,s.tZ)(th.Z,{}),label:"Repl identity",href:"repl-identity"},{icon:(0,s.tZ)(tp.Z,{}),label:"Themes",href:"themes"}],rm=function(e){var n=e.icon,t=e.label,r=e.href,i=e.selected,l=e.bottomBorder,o=e.onClick;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(nu(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,s.BX)("a",{onClick:o,css:i?rh.selected:rh.base,children:[n,(0,s.tZ)(x.xv,{color:"default",children:t})]})}),l?(0,s.tZ)(C.G,{css:rd.tabComponentBorder}):null]})};function rf(){var e,n=(e=(0,D._)({},rc,{ssr:!1}),A.a(ru,e)),t=n.data,r=n.refetch,i=null==t?void 0:t.currentUser,l=null==i?void 0:i.roles.some(function(e){return e.key===k.SM.PrivacyLimitedAccess}),o=(0,h.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),c=(0,h.P5)({controlName:"flag-spider-philosophy",logFlagToAnalytics:!1}),u=(0,a._)((0,I.useState)(void 0),2),d=u[0],p=u[1];(0,I.useEffect)(function(){if(i){var e=window.location.hash;if(e&&e.startsWith("#")){var n=e.replace("#",""),t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}},[i]);var m=(0,a._)((0,I.useState)(!1),2),f=m[0],g=m[1],v=function(e){var n=e.straightCorners,t=function(e){p(e),g(!1)};return(0,s.tZ)(C.G,{css:n?rd.straightCorners:rd.roundedCorners,children:rp.map(function(e){if("repl-identity"===e.href&&!(null==i?void 0:i.hasReplitIdentityTesting)||"verification"===e.href&&!o)return null;var n="account"===e.href||"billing"===e.href||"connected-services"===e.href;return l&&n||"ssh-keys"===e.href&&!c?null:(0,s.tZ)(rm,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:d===e.href,onClick:function(){return t(e.href)}},e.href)})})};return(0,s.tZ)(C.G,{css:rd.page,children:(0,s.BX)(C.G,{css:rd.main,children:[(0,s.BX)(C.G,{css:rd.tabContainerWrapper,children:[(0,s.tZ)(nu(),{legacyBehavior:!0,href:"/@".concat(null==i?void 0:i.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.BX)(C.G,{css:rd.tabContainerTop,children:[(0,s.tZ)(ts.q,{size:48,css:rd.profilePicture,src:(null==i?void 0:i.image)||null,username:"".concat(null==i?void 0:i.username)}),(0,s.BX)(C.G,{css:rd.nameContainer,children:[(0,s.BX)(x.xv,{variant:"subheadDefault",color:"default",css:rd.firstLastName,children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,s.tZ)(x.xv,{color:"dimmer",children:(null==i?void 0:i.username)?"@".concat(i.username):""})]})]})})}),(0,s.tZ)(v,{straightCorners:!1,showVerification:o})]}),(0,s.tZ)(ta.Q,{headerContent:"Jump to",css:rd.tabContainerAccordion,expanded:f,onClick:function(){return g(!f)},children:(0,s.tZ)(v,{straightCorners:!0,showVerification:o})}),(0,s.tZ)(C.G,{css:rd.sectionContainer,children:i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(rv,{title:"Profile",id:"profile",setInView:p,children:(0,s.tZ)(ny,{currentUser:i})}),(0,s.tZ)(rv,{title:"Account",id:"account",setInView:p,flush:!0,children:l?(0,s.tZ)(em,{currentUser:i}):(0,s.tZ)(eh,{currentUser:i})}),o?(0,s.tZ)(rv,{title:"Verification",id:"verification",setInView:p,children:(0,s.tZ)(to,{context:k.jv.Voluntary,verifiedPhoneNumber:i.verifiedPhoneNumber,onSuccess:r})}):null,l?null:(0,s.tZ)(rv,{title:"Billing",id:"billing",setInView:p,flush:!0,children:(0,s.tZ)(eW,{currentUser:i})}),(0,s.tZ)(rv,{title:"Preferences",id:"preferences",setInView:p,children:(0,s.tZ)(n8,{})}),(0,s.tZ)(rv,{title:"Roles",id:"roles",setInView:p,children:(0,s.tZ)(tr,{currentUser:i})}),(0,s.tZ)(rv,{setInView:p,title:"Resource usage",id:"resource-usage",flush:!0,children:(0,s.tZ)(nJ,{})}),c?(0,s.tZ)(rv,{setInView:p,id:"ssh-keys",surface:!1,children:(0,s.tZ)(rl,{})}):null,l?null:(0,s.tZ)(rv,{title:"Connected services",id:"connected-services",setInView:p,children:(0,s.tZ)(e4,{currentUser:i})}),i.hasReplitIdentityTesting?(0,s.tZ)(rv,{title:"Repl identity",id:"repl-identity",setInView:p,children:(0,s.tZ)(nI,{})}):null," ",(0,s.tZ)(rv,{id:"themes",setInView:p,surface:!1,children:(0,s.tZ)(tj,{})})]}):(0,s.tZ)(C.G,{css:rd.loadingContainer,children:(0,s.tZ)(eB.Z,{size:20})})})]})})}var rg=(0,er.X)({sectionWrapper:[T.l0.position.relative,T.l0.colWithGap(8),(0,o._)({scrollMarginTop:108},T.BC.min("tabletMax"),{scrollMarginTop:80})],section:[T.l0.p(16),T.l0.borderRadius("container")],sectionFlush:[T.l0.borderRadius("container")],anchor:[T.l0.position.absolute,T.l0.top("50%"),T.l0.width(1),T.l0.height(1)]});function rv(e){var n=e.title,t=e.children,r=e.id,i=e.setInView,l=e.surface,o=e.flush,a=(0,I.useRef)(null),c=(0,ra.Y)(a,{margin:"-20% 0px -79% 0px"});(0,I.useEffect)(function(){c&&i(r)},[r,c,i]);var u=void 0===l||l?(0,s.tZ)(nx.Tg,{elevated:!0,tag:"section",css:o?rg.sectionFlush:rg.section,children:t}):(0,s.tZ)(C.G,{tag:"section",children:t});return(0,s.BX)(C.G,{css:rg.sectionWrapper,id:r,innerRef:a,children:[n?(0,s.tZ)(x.h4,{level:2,variant:"subheadBig",children:n}):null,u]})}},56971:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(66626),i=t(74985),l=t(85805),o=t(55534),a=t(43973),s=t(79378),c=t(74833),u=t(56596),d=t(93918),h=t(29287),p=t(50959),m=t(88205),f=(0,d.X)({dropContainer:[h.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[h.l0.flex.row,h.l0.center,h.l0.backgroundColor.backgroundOverlay,h.l0.borderRadius("full"),h.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function g(e){var n=e.currentUser,t=e.onChange,d=(0,o.Z)(),h=d.showError,g=d.showConfirm,v=(0,r._)((0,p.useState)(n.image),2),y=v[0],b=v[1];(0,p.useEffect)(function(){return b(n.image)},[n.image]);var Z=(0,l.Z)({onUpload:function(e){return t({imageId:e.id})},onUploadPreview:function(e){b(e.dataUrl),g("Uploading profile image")},onError:function(e){return h(e.message)}});return n.hasPrivacyRole?(0,i.tZ)(s.q,{size:96,src:y,username:n.username,fullName:n.fullName}):(0,i.BX)(u.G,{css:f.dropContainer,onDrop:function(e){e.preventDefault();var n,t,r=null===(t=e.dataTransfer)||void 0===t?void 0:null===(n=t.files)||void 0===n?void 0:n[0];if(r){if(!r.type.startsWith("image/"))return h("Expected an image file");Z.uploadImage(r,m.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,i.tZ)(s.q,{size:96,src:y,username:n.username,fullName:n.fullName}),(0,i.BX)("label",{css:f.overlayLabel,children:[(0,i.tZ)("input",{accept:a.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity.valid,r=n.files;(null==r?void 0:r.length)&&t&&Z.uploadImage(r[0],m.N.ProfileImage)},css:f.uploadInput}),(0,i.tZ)(c.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},56231:function(e,n,t){t.d(n,{Z:function(){return R}});var r=t(41733),i=t(30509),l=t(66626),o=t(63257),a=t(74985),s=t(43312),c=t(31366),u=t(42308),d=t(6187),h=t(7444),p=t(57526),m=t(2161),f=t(93496),g=t(74833),v=t(56596),y=t(88936),b=t(82723),Z=t(29287),x=t(21371),w=t(50959),C=t(21262),_=t(71440),U=t(58995);function S(){var e=(0,C._)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return S=function(){return e},e}function B(){var e=(0,C._)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return B=function(){return e},e}var G={},T=(0,_.Ps)(S()),P=(0,_.Ps)(B(),T),k=v.K.input,I=v.K.div,D=v.K.li,X=(0,s.iv)([f.gU.filled,Z.l0.p(8),{color:Z.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:Z.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:Z.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function R(e){var n,t,s,f=e.id,C=e.disabled,_=e.filter,S=e.manualSelect,B=e.excludePrivate,T=e.excludeMultiplayer,R=e.onSelect,M=e.selectedIconOverride,A=e.showComboBox,E=(0,l._)((0,w.useState)([]),2),W=E[0],N=E[1],V=(0,l._)((0,w.useState)(""),2),z=V[0],L=V[1],O=(0,w.useRef)(null),j=_?W.filter(_):W,Y=(0,x.Kb)({items:j,initialHighlightedIndex:S?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});(0,w.useEffect)(function(){return L(Y.inputValue)},[Y.inputValue]);var H=(n={variables:{search:(0,d.Z)(z,100),excludePrivate:B,excludeMultiplayer:T},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){N([]);return}N(e.currentUser.replSearch.reduce(function(e,n){return n?(0,o._)(e).concat([n]):e},[]))}},t=(0,r._)({},G,n),U.a(P,t)).loading,q=(0,h.Z)(R);(0,w.useEffect)(function(){var e;Y.selectedItem&&(null===(e=O.current)||void 0===e||e.blur(),q.current(Y.selectedItem))},[Y.selectedItem,q]);var $=(null===(s=Y.selectedItem)||void 0===s?void 0:s.iconUrl)&&Y.inputValue?(0,a.tZ)(v.G,{css:[Z.l0.px(8),Z.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:M||(0,a.tZ)(m.ZP,{alt:Y.selectedItem.title,iconUrl:Y.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(v.G,{css:[{position:"relative"}],children:[(0,a.BX)(I,(0,i._)((0,r._)({},Y.getComboboxProps()),{css:{position:"relative"},children:[$,(0,a.tZ)(k,(0,r._)({css:[X,Z.l0.pr(32),$&&Z.l0.pl(32)]},Y.getInputProps({ref:O,id:f,placeholder:"Search for a Repl",onFocus:void 0===A||A?function(e){Y.selectedItem&&(e.preventDefault(),e.currentTarget.select(),L("")),Y.openMenu()}:void 0}))),(0,a.tZ)(v.G,{css:[Z.l0.center,Z.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(b.Z,{})})]})),(0,a.tZ)(I,(0,i._)((0,r._)({},Y.getMenuProps()),{css:{position:"relative"},children:Y.isOpen&&!C?(0,a.BX)(c.Z,{children:[H?(0,a.tZ)(D,{css:[Z.l0.center,Z.l0.py(32)],children:(0,a.tZ)(y.Z,{})}):null,j.length||H?null:(0,a.tZ)(D,{css:[Z.l0.center,Z.l0.py(32)],children:(0,a.BX)(g.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",W.length>0?"more ":null,"repls found"]})}),j.map(function(e,n){return(0,a.tZ)(D,(0,i._)((0,r._)({},Y.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:z,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:Y.selectedItem===e,highlighted:Y.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(m.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},63275:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(66626),i=t(74985),l=t(93302),o=t(50959),a=t(41733),s=t(21262),c=t(71440),u=t(64604),d=t(58995);function h(){var e=(0,s._)(["\n  fragment EgressUsageSummary on DevelopmentOutboundDataTransferUsage {\n    __typename\n    allotment\n    totalRepls\n    usage\n    usageByReplConnection {\n      ... on UnitPriceReplUsageTypeConnection {\n        ...UnitPriceReplUsageConnection\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function p(){var e=(0,s._)(["\n  fragment EgressBillingPeriod on UsageInterval {\n    startDate\n    endDate\n    resources {\n      __typename\n      developmentOutboundDataTransfer {\n        ...EgressUsageSummary\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function m(){var e=(0,s._)(["\n  fragment CurrentUserEgressSummary on CurrentUser {\n    __typename\n    id\n    username\n    billingInfo {\n      planInfo {\n        description\n      }\n    }\n    usageInterval {\n      __typename\n      ... on UsageInterval {\n        ...EgressBillingPeriod\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function f(){var e=(0,s._)(["\n  query CurrentUserEgress {\n    currentUser {\n      ...CurrentUserEgressSummary\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var g={},v=(0,c.Ps)(h(),u._9),y=(0,c.Ps)(p(),v),b=(0,c.Ps)(m(),y),Z=(0,c.Ps)(f(),b),x=t(6378),w=t(32078),C=function(e){var n,t=e.context,s=e.title,c=e.titleShort,u=(0,r._)((0,o.useState)(),2),h=u[0],p=u[1],m=(0,r._)((0,o.useState)(),2),f=m[0],v=m[1],y=(0,r._)((0,o.useState)(""),2),b=y[0],C=y[1],_=(0,r._)((0,o.useState)(!1),2),U=_[0],S=_[1],B=(n=(0,a._)({},g,{onCompleted:function(e){var n,t,r,i;if((null===(n=e.currentUser)||void 0===n?void 0:n.__typename)!=="CurrentUser"){v("Unexpected response");return}switch(null===(t=e.currentUser.usageInterval)||void 0===t?void 0:t.__typename){case"UsageInterval":p(e.currentUser.usageInterval),C(e.currentUser.username),S((null===(i=e.currentUser.billingInfo)||void 0===i?void 0:null===(r=i.planInfo)||void 0===r?void 0:r.description)!==void 0);break;case"UnauthorizedError":case"UserError":case"ServiceUnavailable":v(e.currentUser.usageInterval.message);break;default:v("Unexpected response")}},onError:function(e){v(e.message)}}),d.a(Z,n)).loading,G=h?Number(h.resources.developmentOutboundDataTransfer.usage):0,T=h?Number(h.resources.developmentOutboundDataTransfer.allotment):0,P=h?(0,w._4)(h.resources.developmentOutboundDataTransfer):void 0,k="Bytes",I=0!==T?"".concat((0,l.fZ)(G,{forceGib:!0,precision:1,skipUnits:!0,resourceUsageType:k})," / ").concat((0,l.fZ)(T,{forceGib:!0,precision:1,resourceUsageType:k})):"".concat((0,l.fZ)(G,{precision:1,resourceUsageType:k})),D=!!h&&h.resources.developmentOutboundDataTransfer.usage>h.resources.developmentOutboundDataTransfer.allotment,X=(h?new Date(h.endDate):new Date).toLocaleString("default",{month:"short",day:"numeric"});return(0,i.tZ)(x.Z,{context:t,title:void 0===s?"Outbound Data Transfer":s,titleShort:void 0===c?"Data Transfer":c,infoTooltipMessage:"Similar to bandwidth, outbound data transfer is the amount\n      of data that our servers send to your Repls' users and\n      external services.",totalUsageMessage:I,throttlingTooltipMessage:h&&!U&&D?"Bandwidth for your Repls is being throttled. Increase\n        your limit to resume normal speeds.":void 0,resourceSummary:P,resourceUsageType:k,username:b,statusMessage:h?"Resets on ".concat(X):null,errorMessage:f,loading:B})}},6378:function(e,n,t){var r=t(42516),i=t(74985),l=t(37951),o=t(38080),a=t(74833),s=t(30983),c=t(56596),u=t(93918),d=t(97615),h=t(88936),p=t(20573),m=t(29287),f=t(49996),g=t(75928),v=(0,u.X)({self:[m.l0.colWithGap(12),m.l0.flex.growAndShrink(1)]});n.Z=function(e){var n=e.context,t=e.title,u=e.titleShort,y=e.infoTooltipMessage,b=e.totalUsageMessage,Z=e.throttlingTooltipMessage,x=e.resourceSummary,w=e.resourceUsageType,C=e.username,_=e.statusMessage,U=e.placeholderMessage,S=e.errorMessage,B=e.loading,G=e.overageSummary,T=e.overageIndicator;return(0,i.BX)(o.Tg,{css:v.self,children:[B?(0,i.tZ)(c.G,{css:[m.l0.justify.center,m.l0.flex.row],children:(0,i.tZ)(h.Z,{})}):null,S?(0,i.tZ)(l.E,{colorway:"negative",text:S}):null,x?(0,i.BX)(i.HY,{children:[(0,i.BX)(c.G,{tag:"header",css:[m.l0.rowWithGap(16),m.l0.align.center,m.l0.justify.spaceBetween,(0,r._)({},(0,f.EM)("mobileMax"),[m.l0.flex.wrap])],children:[(0,i.BX)(c.G,{css:[m.l0.rowWithGap(4),m.l0.align.center],children:[(0,i.tZ)(a.xv,{multiline:!1,variant:"subheadDefault",css:[m.l0.display.flex,(0,r._)({},(0,f.EM)("mobileMax"),[m.l0.display.none])],children:t}),(0,i.tZ)(a.xv,{multiline:!1,variant:"subheadDefault",css:[m.l0.display.none,(0,r._)({},(0,f.EM)("mobileMax"),{display:"unset"})],children:u}),(0,i.tZ)(s.u,{tooltip:(0,i.tZ)(a.xv,{children:y}),children:(0,i.tZ)(d.Z,{css:[(0,r._)({},(0,f.EM)("mobileMax"),[m.l0.display.none])]})})]}),(0,i.BX)(c.G,{css:[m.l0.rowWithGap(4),m.l0.align.center],children:[Z?(0,i.tZ)(s.u,{tooltip:(0,i.tZ)(a.xv,{children:Z}),children:(0,i.tZ)(p.Z,{color:"red"})}):null,T||(0,i.tZ)(i.HY,{children:b?(0,i.tZ)(a.xv,{color:"dimmer",css:[m.l0.py(1)],multiline:!1,children:b}):null})]})]}),(0,i.tZ)(c.G,{children:(0,i.tZ)(g.$,{summary:x,context:{type:"cycles_page"===n?n:"account_page"},username:C,resourceUsageType:w})}),G?(0,i.tZ)(c.G,{children:G}):null,U?(0,i.tZ)(c.G,{children:(0,i.tZ)(a.xv,{color:"dimmest",children:U})}):null,_?(0,i.tZ)(c.G,{tag:"footer",css:[m.l0.rowWithGap(16),m.l0.justify.spaceBetween,m.l0.align.center],children:_?(0,i.tZ)(a.xv,{color:"dimmest",multiline:!1,children:_}):null}):null]}):null]})}},14986:function(e,n,t){t.d(n,{r:function(){return L}});var r=t(41733),i=t(30509),l=t(66626),o=t(74985),a=t(50959),s=t(93918),c=t(29287),u=t(38080),d=t(74833),h=t(56596),p=t(47957),m=t(93302),f=t(75928),g=t(88936),v=t(32078),y=t(39083),b=t(75582),Z=t(5542),x=t(70002),w=t(16166),C=t(91612),_=t(23291),U=t(34785),S=t(52682),B=t(15146),G=(0,s.X)({self:[c.l0.rowWithGap(4),c.l0.align.center]}),T=function(e){var n=P(e),t=n.quotaText,r=n.attribution;return(0,o.BX)(h.G,{css:G.self,children:[(0,o.tZ)(d.xv,{color:"dimmer",children:t}),(0,o.tZ)(_.D,{text:r}),"sku"in e?(0,o.tZ)(B.hU,{onClick:e.onRequestDelete,alt:"Remove add-on storage",children:(0,o.tZ)(S.Z,{})}):null]})},P=function(e){if("sku"in e)return{quotaText:"+".concat(C.zd[e.sku],"GiB"),attribution:"Add-on"};var n=e.userSubscriptionType,t=n?C.XR[n]:C.XR.FREE;return{quotaText:"".concat(t,"GiB"),attribution:(0,U.s)(n)}},k=t(74593),I=t(55534),D=t(49344),X=t(1498),R=t(32377),M=t(25680),A=t(37951),E=t(20573),W=(0,s.X)({self:[c.l0.rowWithGap(16),c.l0.justify.spaceBetween,c.l0.align.center],quotaBreakdownAndActions:[c.l0.rowWithGap(12)],deleteModalActions:[c.l0.rowWithGap(12),c.l0.justify.end],deleteModalContent:[c.l0.colWithGap(12)],deleteModal:[c.l0.colWithGap(16)]}),N=function(e){var n=e.username,t=e.setShowUpgradeModal,s=e.userSubscriptionType,c=e.currentSku,u=e.quotaInBytes,m=e.totalInBytes,f=(0,I.Z)(),g=f.showError,v=f.showConfirm,y=(0,l._)((0,a.useState)(!1),2),_=y[0],U=y[1],S=(0,l._)((0,k.iE)({onError:function(e){return g(e.message)},onCompleted:function(e){if("ManageStorageAddOnOutput"!==e.manageStorageAddOn.__typename){g(e.manageStorageAddOn.message);return}v("Storage add-on removed."),U(!1)},refetchQueries:[p.P1]}),2),B=S[0],G=S[1].loading,P=s===b.HP.HackerPro,N=!!c&&u-C.zd[c]*C.lb<m;return(0,o.BX)(h.G,{css:W.self,children:[(0,o.tZ)(x.Z,(0,i._)((0,r._)({},(0,Z.Ru)(n)),{text:"Manage Repls"})),(0,o.BX)(h.G,{css:W.quotaBreakdownAndActions,children:[(0,o.tZ)(T,{userSubscriptionType:s}),c?(0,o.tZ)(T,{sku:c,onRequestDelete:function(){return U(!0)}}):null,(0,o.tZ)(w.U,{isPro:P,setShowUpgradeModal:t,source:"account_storage_footer_upgrade_button"})]}),c?(0,o.tZ)(D.u,{centered:!0,isOpen:_,onRequestClose:function(){return U(!1)},children:(0,o.BX)(h.G,{css:W.deleteModal,children:[(0,o.BX)(d.xv,{variant:"headerDefault",children:["Remove ",C.zd[c],"GiB additional storage?"]}),(0,o.BX)(h.G,{css:W.deleteModalContent,children:[(0,o.BX)(d.xv,{children:["This additional storage costs ",(0,C.d_)(c)," ","Cycles (",(0,M.b)(c),") per month."]}),N?(0,o.tZ)(A.E,{colorway:"orange",icon:(0,o.tZ)(E.Z,{}),text:"You’re using more storage than the amount this change will give you. You won’t be able to add new files unless you delete existing files."}):null]}),(0,o.BX)(h.G,{css:W.deleteModalActions,children:[(0,o.tZ)(X.zx,{text:"Cancel"}),(0,o.tZ)(X.zx,{loading:G,colorway:"primary",text:"Yes, remove storage",iconLeft:(0,o.tZ)(R.Z,{}),onClick:function(){B({variables:{input:{setting:b.F$.Off}}})}})]})]})}):null]})},V=t(85838),z=(0,s.X)({self:[c.l0.colWithGap(12),c.l0.flex.growAndShrink(1)],loadingWrapper:[c.l0.center],errorMessage:[c.l0.width("100%"),c.l0.center,{alignSelf:"center",justifySelf:"center"}],header:[c.l0.rowWithGap(16),c.l0.align.center,c.l0.justify.spaceBetween],footerActions:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center]}),L=function(e){var n=e.context,t=e.title,s=(0,l._)((0,a.useState)(!1),2),c=s[0],Z=s[1],x=(0,p.Pf)({fetchPolicy:"network-only",ssr:!1,notifyOnNetworkStatusChange:!0}),w=x.data,_=x.loading,U=x.refetch;if(_&&!w)return(0,o.tZ)(u.Tg,{css:z.self,children:(0,o.tZ)(h.G,{css:z.loadingWrapper,children:(0,o.tZ)(g.Z,{})})});if(w&&(null===(S=w.currentUser)||void 0===S?void 0:S.__typename)==="CurrentUser"&&"StorageQuota"===w.currentUser.storageInfo.storageQuota.__typename&&"StorageGracePeriodQuota"===w.currentUser.storageInfo.storageGracePeriodQuota.__typename&&"AccountStorageUtilization"===w.currentUser.storageInfo.accountStorageUtilization.__typename&&"UserPowerUpsTypes"===w.currentUser.userPowerUpsByType.__typename){var S,B,G,T=w.currentUser.storageInfo,P=T.accountStorageUtilization,k=T.storageQuota.quota,I=P.total,D="Bytes",X="".concat((0,m.fZ)(Number(I),{forceGib:!0,precision:1,resourceUsageType:D})),R=null!==(B=w.currentUser.userSubscriptionType)&&void 0!==B?B:void 0,M=null!==(G=w.currentUser.userPowerUpsByType.storage.currentSku)&&void 0!==G?G:void 0,A=R===b.HP.HackerPro?C.CU:C.tC,E=M?Number(k):A,W=0===E?X:"".concat(X," / ").concat((0,m.fZ)(E,{forceGib:!0,precision:1,resourceUsageType:D})),L=w.currentUser.username;return(0,o.BX)(u.Tg,{css:z.self,children:[(0,o.BX)(h.G,{css:z.header,children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:void 0===t?"Storage":t}),(0,o.tZ)(d.xv,{color:"dimmer",multiline:!1,children:W})]}),(0,o.tZ)(f.$,{context:{type:n},summary:(0,v._4)((0,i._)((0,r._)({},P),{quota:E.toString()})),username:L,resourceUsageType:D}),(0,o.tZ)(V.q,{}),(0,o.tZ)(N,{username:L,setShowUpgradeModal:Z,userSubscriptionType:R,currentSku:M,quotaInBytes:Number(E),totalInBytes:Number(I)}),(0,o.tZ)(y.Z,{isOpen:c,context:n,powerUp:"storage",uponPurchaseGoTo:"account",onRequestClose:function(){U(),Z(!1)}})]})}return(0,o.BX)(h.G,{css:z.self,children:[(0,o.tZ)(O,{total:"0"}),(0,o.tZ)(h.G,{css:z.errorMessage,children:(0,o.tZ)(d.xv,{color:"dimmest",multiline:!1,children:"We had trouble loading your storage information. Please try again later."})})]})},O=function(e){var n=e.total;return(0,o.BX)(h.G,{css:z.header,children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:"Storage"}),(0,o.tZ)(d.xv,{color:"dimmer",multiline:!1,children:(0,m.fZ)(Number(n),{forceGib:!0,resourceUsageType:"Bytes"})})]})}},64604:function(e,n,t){t.d(n,{$f:function(){return m},GD:function(){return p},_9:function(){return h},t0:function(){return u}});var r=t(21262),i=t(71440);function l(){var e=(0,r._)(["\n  fragment UsageBreakdownCurrentUser on CurrentUser {\n    id\n    username\n    isCore: subscriptionIsType(subscriptionType: HACKER_PRO)\n  }\n"]);return l=function(){return e},e}function o(){var e=(0,r._)(["\n  fragment UsageOverviewReplBreakdown on Repl {\n    id\n    title\n    url\n    nextPagePathname\n    iconUrl\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,r._)(["\n  fragment UnitPriceReplUsageConnection on UnitPriceReplUsageTypeConnection {\n    items {\n      id\n      repl {\n        ...UsageOverviewReplBreakdown\n      }\n      usage\n      percentage\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return a=function(){return e},e}function s(){var e=(0,r._)(["\n  fragment MatrixPriceReplUsageConnection on MatrixPriceReplUsageTypeConnection {\n    items {\n      id\n      repl {\n        ...UsageOverviewReplBreakdown\n      }\n      usage\n      percentage\n      configName\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function c(){var e=(0,r._)(["\n  fragment StaticDeploymentReplUsageConnection on StaticDeploymentReplUsageTypeConnection {\n    items {\n      id\n      usage\n      percentage\n      repl {\n        ...UsageOverviewReplBreakdown\n        hostingDeployment {\n          ... on HostingDeployment {\n            currentBuild {\n              timeCreated\n            }\n          }\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var u=(0,i.Ps)(l()),d=(0,i.Ps)(o()),h=(0,i.Ps)(a(),d),p=(0,i.Ps)(s(),d),m=(0,i.Ps)(c(),d)}}]);
//# sourceMappingURL=317-ae86bf8137339d26.js.map