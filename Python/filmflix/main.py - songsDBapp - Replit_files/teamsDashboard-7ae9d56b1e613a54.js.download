!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2a989aa4-2f36-4226-b74b-fe6970b08647",e._sentryDebugIdIdentifier="sentry-dbid-2a989aa4-2f36-4226-b74b-fe6970b08647")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"1582e009"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3727],{10116:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teamsDashboard",function(){return t(27059)}])},31900:function(e,n,t){"use strict";t.d(n,{Z:function(){return z}});var r=t(41733),i=t(30509),a=t(66626),o=t(74985),l=t(43312),s=t(95891),c=t(7444),u=t(15146),d=t(93496),m=t(74833),h=t(56596),v=t(71498),g=t(13900),p=t(29287),f=t(21371),b=t(33988),Z=t.n(b),T=t(47611),y=t(50959),_=h.K.ul,x=h.K.li,O=h.K.a,w=function(e){var n=e.isHighlighted,t=e.isDestructive;return(0,l.iv)([p.l0.height(32),p.l0.rowWithGap(8),p.l0.align.center,p.l0.p(8),p.l0.cursor.pointer,t&&[p.l0.color.accentNegativeStronger],n&&{backgroundColor:d.gU.listItem["@media (hover: hover)"][":not([disabled])"][":not(textarea):active"].backgroundColor},n&&t&&[p.l0.color.foregroundDefault,p.l0.backgroundColor.accentNegativeDefault]])};function C(e){var n=e.item,t=(0,o.BX)(o.HY,{children:[n.icon,(0,o.tZ)(m.xv,{css:p.l0.flex.shrink(1),multiline:!1,children:n.label})]});return n.link&&(Z(),(0,i._)((0,r._)({legacyBehavior:!0,passHref:!0},n.link),{children:(0,o.tZ)(O,{css:[p.l0.align.center,p.l0.rowWithGap(8),{color:"inherit"}],children:t})})),t}function z(e){var n=e.label,t=e.items,l=e.onItemClick,m=e.onOpenChange,b=e.large,Z=e.orientation,O=e.resetOnSelect,z=e.dataCy,G=(0,T.useRouter)(),I=(0,a._)((0,y.useState)(!1),2),B=I[0],E=I[1],S=(0,c.Z)(m);(0,y.useEffect)(function(){S.current&&S.current(B)},[B,S]);var k=(0,f.L7)({isOpen:B,items:t,onSelectedItemChange:function(e){var n=e.selectedItem;n&&(E(!1),O&&R(),n.link?G.push(n.link.href,n.link.as):l(n))}}),D=k.getToggleButtonProps,P=k.getMenuProps,U=k.highlightedIndex,X=k.getItemProps,M=k.getLabelProps,R=k.reset,A=b?32:24;return(0,o.BX)(s.Z,{isOpen:B,padding:0,gap:4,zIndex:p.n0,placement:"bottom-end",onClickOutside:function(){return E(!1)},children:[(0,o.BX)(h.G,{children:[(0,o.tZ)(u.hU,(0,i._)((0,r._)((0,i._)((0,r._)({css:[p.l0.reset.button,d.gU.listItem,p.l0.borderRadius(),p.l0.center,{width:A,height:A}]},D({refKey:"innerRef",onClick:function(){return E(function(e){return!e})}})),{alt:n,tooltipHidden:!0}),M()),{dataCy:z,children:"horizontal"===Z?(0,o.tZ)(v.Z,{size:16}):(0,o.tZ)(g.Z,{size:16})})),(0,o.tZ)(h.G,(0,r._)({},P({refKey:"innerRef"})))]}),(0,o.tZ)(_,{css:[p.l0.minWidth(120),p.l0.overflow("hidden"),p.l0.borderRadius(8)],children:t.map(function(e,n){var t=U===n;return(0,o.tZ)(x,(0,i._)((0,r._)({css:w({isHighlighted:t,isDestructive:e.isDestructive})},X({item:e,index:n,key:"".concat(e.label).concat(n)})),{children:(0,o.tZ)(C,{item:e})}),"".concat(e.label).concat(n))})})]})}},84626:function(e,n,t){"use strict";var r=t(74985),i=t(74833),a=t(56596),o=t(29287),l=(0,t(93918).X)({styles0:[o.l0.flex.row,o.l0.align.center],styles1:[o.l0.mr(8),{borderBottom:"1px solid ".concat(o.TV.backgroundHighest),width:o.TV.space8}],styles2:[o.l0.color.foregroundDimmest,o.l0.flex.shrink(1)],styles3:[o.l0.ml(8),o.l0.flex.grow(2),{borderBottom:"1px solid ".concat(o.TV.backgroundHighest),width:o.TV.space16}]});n.Z=function(e){var n=e.text;return(0,r.BX)(a.G,{css:l.styles0,children:[(0,r.tZ)(a.G,{css:l.styles1}),(0,r.tZ)(i.xv,{css:l.styles2,children:n}),(0,r.tZ)(a.G,{css:l.styles3})]})}},20399:function(e,n,t){"use strict";t.d(n,{ZE:function(){return R},ck:function(){return z.ck},v2:function(){return P}});var r=t(41733),i=t(30509),a=t(98924),o=t(66626),l=t(63257),s=t(74985),c=t(43312),u=t(50959),d=t(72912),m=t(88325),h=t(86936),v=t(59520),g=t(32883),p=t(88032),f=t(98574),b=t(34335),Z=t(10910),T=t(1498),y=t(93496),_=t(1415),x=t(74833),O=t(56596),w=t(99741),C=t(29287),z=t(62450),G=(0,c.iv)([C.l0.shadow(1),{border:"1px solid ".concat(C.TV.outlineDimmer),borderRadius:C.TV.borderRadius8,backgroundColor:y.vb.interactiveBackground,overflow:"hidden"}]),I=(0,c.iv)([C.l0.p(8),{":not([disabled])":{cursor:"pointer","&[data-focused=true]":{backgroundColor:y.vb.interactiveBackgroundActive}}}]),B=O.K.button,E=O.K.div,S=O.K.ul,k=O.K.li;function D(e){var n=e.item,t=e.state,o=(0,a._)(e,["item","state"]),l=t.disabledKeys.has(n.key),c=t.selectionManager.isFocused&&t.selectionManager.focusedKey===n.key,d=(0,u.useRef)(null),m=(0,h.iX)((0,r._)({key:n.key,"aria-label":n["aria-label"],isDisabled:l},o),t,d).menuItemProps;return(0,u.useEffect)(function(){var e;null===(e=d.current)||void 0===e||e.addEventListener("touchend",function(e){e.preventDefault()})},[]),(0,s.tZ)(k,(0,i._)((0,r._)({},(0,v.dG)({ref:d,css:I,"data-focused":c},m)),{children:n.rendered}))}function P(e){var n=e.className,t=e.menuProps,o=e.label,c=e.onAction,d=e.onClose,g=(0,a._)(e,["className","menuProps","label","onAction","onClose"]),p=(0,m.D)((0,i._)((0,r._)({},g),{selectionMode:"none"})),f=(0,u.useRef)(null),b=(0,h.H9)((0,r._)({"aria-label":o||g["aria-label"]},g),p,f).menuProps;return(0,s.tZ)(S,(0,i._)((0,r._)({},(0,v.dG)({ref:f,className:n},b,void 0===t?{}:t)),{children:(0,l._)(p.collection).map(function(e){return(0,s.tZ)(D,{item:e,onAction:c,onClose:d,state:p},e.key)})}))}var U=C.n0,X=(0,c.iv)({zIndex:U});function M(e){var n=e.menuProps,t=e.state,l=e.target,c=e.cssProps,u=e.placement,d=e.autoFocus,m=(0,a._)(e,["menuProps","state","target","cssProps","placement","autoFocus"]),h=(0,o._)((0,Z.Z)(),2),f=h[0],T=h[1],y=(0,b.D)(l,f.current,{modifiers:[{name:"offset",options:{offset:[0,4]}}],placement:void 0===u?"bottom-start":u,strategy:"fixed"}),_=y.styles,x=y.attributes,O=(0,g.Ir)({isDismissable:!0,isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0},f).overlayProps;return(0,s.tZ)(p.MT,{restoreFocus:!0,autoFocus:d,children:(0,s.tZ)(E,(0,i._)((0,r._)({},(0,v.dG)({ref:T,style:_.popper},x.popper||{},O)),{css:X,children:(0,s.BX)(E,{css:G,children:[(0,s.tZ)(g.U4,{onDismiss:t.close}),(0,s.tZ)(P,(0,r._)({menuProps:n,onClose:t.close,css:void 0===c?[]:c},m)),(0,s.tZ)(g.U4,{onDismiss:t.close})]})}))})}function R(e){var n=e.innerRef,t=e.label,c=e.suffix,m=e.icon,g=e.cssProps,p=e.menuCssProps,b=e.onOpen,y=e.placement,z=e.autoFocus,G=(0,a._)(e,["innerRef","label","suffix","icon","cssProps","menuCssProps","onOpen","placement","autoFocus"]),I=(0,u.useId)(),E=(0,o._)((0,Z.Z)(),2),S=E[0],k=E[1],D=(0,d.W)({}),P=(0,h.u4)({},D,S),U=P.menuTriggerProps,X=P.menuProps,R=(0,f.U)((0,v.dG)(U,{"aria-label":G["aria-label"],id:I}),S).buttonProps;return(0,u.useEffect)(function(){D.isOpen&&(null==b||b())},[b,D.isOpen]),(0,s.BX)(O.G,{css:C.l0.position.relative,children:[(0,s.BX)(B,(0,i._)((0,r._)({},(0,v.dG)({css:(0,l._)((0,T.uW)({size:16})).concat([t?null:[C.l0.width(32)]],(0,l._)(void 0===g?[]:g)),ref:function(e){k(e),n&&"object"==typeof n&&(n.current=e)}},R)),{children:[m?(0,u.cloneElement)(m,{size:16}):(0,s.tZ)(w.Z,{size:16}),t?(0,s.tZ)(x.xv,{multiline:!1,children:t}):null,c]})),D.isOpen?(0,s.tZ)(_.h,{children:(0,s.tZ)(M,(0,r._)({label:t||G["aria-label"]||"default",menuProps:X,state:D,target:S.current,cssProps:void 0===p?[]:p,placement:y,autoFocus:void 0===z||z},G))}):null]})}},39865:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(41733),i=t(30509),a=t(74985),o=t(26);function l(e){return(0,a.tZ)(o.Z,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M6.25 6A2.75 2.75 0 0 1 9 3.25h6A2.75 2.75 0 0 1 17.75 6v1.25H19A2.75 2.75 0 0 1 21.75 10v8A2.75 2.75 0 0 1 19 20.75H5A2.75 2.75 0 0 1 2.25 18v-8A2.75 2.75 0 0 1 5 7.25h1.25V6Zm1.5 1.25h8.5V6c0-.69-.56-1.25-1.25-1.25H9c-.69 0-1.25.56-1.25 1.25v1.25ZM5 8.75c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25v-8c0-.69-.56-1.25-1.25-1.25H5Z",clipRule:"evenodd"})}))}},80339:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(41733),i=t(30509),a=t(74985),o=t(26);function l(e){return(0,a.tZ)(o.Z,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M1.853 12a18.925 18.925 0 0 0 2.57 3.487C6.233 17.42 8.8 19.25 12 19.25s5.766-1.83 7.578-3.763A18.925 18.925 0 0 0 22.148 12a18.924 18.924 0 0 0-2.57-3.487C17.766 6.58 15.2 4.75 12 4.75S6.234 6.58 4.422 8.513A18.924 18.924 0 0 0 1.852 12ZM23 12l.67-.336v-.003l-.004-.006-.01-.02a11.896 11.896 0 0 0-.187-.345 20.43 20.43 0 0 0-2.796-3.802C18.733 5.419 15.8 3.249 12 3.249S5.266 5.42 3.328 7.487a20.425 20.425 0 0 0-2.796 3.802 11.845 11.845 0 0 0-.187.345l-.011.021-.003.006-.001.002v.001L1 12l-.67-.335a.75.75 0 0 0 0 .67L1 12l-.67.336v.003l.004.006.01.02.04.076a18.235 18.235 0 0 0 .72 1.216 20.426 20.426 0 0 0 2.224 2.856C5.266 18.58 8.2 20.75 12 20.75c3.8 0 6.734-2.17 8.672-4.237a20.43 20.43 0 0 0 2.796-3.802 11.896 11.896 0 0 0 .187-.345l.011-.021.003-.006.001-.002v-.001L23 12Zm0 0 .67.335a.75.75 0 0 0 0-.67L23 12ZM12 9.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM8.25 12a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0Z",clipRule:"evenodd"})}))}},82104:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(41733),i=t(30509),a=t(74985),o=t(26);function l(e){return(0,a.tZ)(o.Z,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M7.24 3.25h9.52a2.751 2.751 0 0 1 2.462 1.526l3.449 6.888a.75.75 0 0 1 .079.336v6A2.75 2.75 0 0 1 20 20.75H4A2.75 2.75 0 0 1 1.25 18v-6a.75.75 0 0 1 .08-.336l3.448-6.888A2.75 2.75 0 0 1 7.24 3.25Zm0 1.5a1.25 1.25 0 0 0-1.118.694l-.001.002-2.907 5.804H8a.75.75 0 0 1 .624.334l1.777 2.666H13.6l1.777-2.666A.75.75 0 0 1 16 11.25h4.786l-2.907-5.804v-.002a1.25 1.25 0 0 0-1.119-.694m4.49 8h-4.849l-1.777 2.666a.75.75 0 0 1-.624.334h-4a.75.75 0 0 1-.624-.334L7.599 12.75H2.75V18A1.25 1.25 0 0 0 4 19.25h16A1.25 1.25 0 0 0 21.25 18v-5.25Zm-4.49-8H7.24h9.52Z",clipRule:"evenodd"})}))}},33914:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(41733),i=t(30509),a=t(74985),o=t(26);function l(e){return(0,a.tZ)(o.Z,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M7 2.25a.75.75 0 0 1 .692.462l5 12a.75.75 0 0 1-1.384.577L9.72 11.48H4.28l-1.587 3.808a.75.75 0 0 1-1.384-.578l5-12A.75.75 0 0 1 7 2.25ZM4.904 9.98h4.192L7 4.95 4.904 9.98ZM14.25 8a.75.75 0 0 1 .75-.75h4A3.75 3.75 0 0 1 21.25 14 3.75 3.75 0 0 1 19 20.75h-4a.75.75 0 0 1-.75-.75V8Zm1.5 6.75v4.5H19a2.25 2.25 0 0 0 0-4.5h-3.25Zm3.25-1.5a2.25 2.25 0 0 0 0-4.5h-3.25v4.5H19Z",clipRule:"evenodd"})}))}},30703:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(41733),i=t(30509),a=t(74985),o=t(26);function l(e){return(0,a.tZ)(o.Z,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M12 1.25a.75.75 0 0 1 .75.75v1.291c2.7.296 5 2.17 5 4.709a.75.75 0 0 1-1.5 0c0-1.478-1.399-2.92-3.5-3.2v6.646c.253.074.498.143.743.21.22.062.44.123.663.188.606.177 1.213.378 1.743.672.543.3 1.026.71 1.362 1.31.333.593.489 1.311.489 2.174 0 2.539-2.3 4.413-5 4.709V22a.75.75 0 0 1-1.5 0v-1.291c-2.7-.296-5-2.17-5-4.709a.75.75 0 0 1 1.5 0c0 1.478 1.399 2.92 3.5 3.2v-6.646a52.33 52.33 0 0 0-.743-.21 54.09 54.09 0 0 1-.663-.188c-.606-.177-1.213-.378-1.743-.672-.544-.3-1.026-.71-1.362-1.31C6.406 9.581 6.25 8.863 6.25 8c0-2.539 2.3-4.413 5-4.709V2a.75.75 0 0 1 .75-.75Zm-.75 3.55c-2.101.28-3.5 1.722-3.5 3.2 0 .686.124 1.132.297 1.44.17.302.42.532.781.732.375.208.845.371 1.436.544.187.054.39.11.602.17l.384.107V4.8Zm1.5 8.207V19.2c2.101-.281 3.5-1.723 3.5-3.201 0-.686-.124-1.132-.297-1.44-.17-.302-.42-.532-.781-.732-.375-.208-.846-.371-1.436-.544-.187-.054-.39-.11-.602-.17l-.384-.107Z",clipRule:"evenodd"})}))}},36464:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(41733),i=t(30509),a=t(74985),o=t(26);function l(e){return(0,a.tZ)(o.Z,(0,i._)((0,r._)({},e),{children:(0,a.tZ)("path",{fillRule:"evenodd",d:"M22.53 1.47a.75.75 0 0 1 .178.778l-7 20a.75.75 0 0 1-1.393.057l-3.883-8.737-8.737-3.883a.75.75 0 0 1 .057-1.393l20-7a.75.75 0 0 1 .778.178ZM11.895 13.166l3.022 6.8 5.29-15.112-8.312 8.312Zm7.25-9.372L4.034 9.083l6.8 3.022 8.313-8.311Z",clipRule:"evenodd"})}))}},27059:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return tG}});var r,i,a,o,l,s,c=t(74985),u=t(50959),d=t(41733),m=t(21262),h=t(71440),v=t(94614),g=t(58995);function p(){var e=(0,m._)(["\n  fragment TeamsDashboardTeam on Team {\n    id\n    username\n    memberCount\n  }\n"]);return p=function(){return e},e}function f(){var e=(0,m._)(["\n  fragment TeamsDashboardTeamOrganization on TeamOrganization {\n    id\n    name\n    isOwner\n    isAdmin\n    isVerified\n    showVerificationBadge\n    canBeDeleted\n    customer {\n      id\n      stripeCustomerId\n    }\n    quantity\n    teams {\n      id\n      ...TeamCard\n    }\n    archivedTeamsCount\n    unsubscribedTeamsCount\n    capabilities {\n      isExpired: isExpiring(daysFromNow: 0)\n      isExpiringIn30Days: isExpiring(daysFromNow: 30)\n      isEducationPlan\n      isBusinessPlan\n      isPerSeatPlan\n      canAddEducationTeam\n      canCreateNewTeam\n      availableSeats\n      memberCount\n    }\n    userPermissions {\n      canViewOrgSettings\n      canDeleteOrg\n      canLeaveOrg\n      canRemoveOrgAdmins\n      canRemoveOrgOwners\n      canAddOrgAdmins\n      canAddOrgOwners\n      canEditBilling\n      canCreateTeamsInOrg\n    }\n    inviteLink {\n      id\n      code\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function b(){var e=(0,m._)(['\n  query TeamsDashboard {\n    currentUser {\n      id\n      email\n      canCreateNewFreeTeam\n      capabilities {\n        canCreateEduTrial\n      }\n      freeTeams {\n        id\n        ...TeamCard\n      }\n      educationTeamOrgs: teamOrganizations(subscriptionType: EDUCATION) {\n        id\n        ...TeamsDashboardTeamOrganization\n      }\n      proTeamOrgs: teamOrganizations(subscriptionType: PRO) {\n        id\n        ...TeamsDashboardTeamOrganization\n      }\n      hasTeamsKillswitch: gate(feature: "flag-killswitch-teams")\n    }\n  }\n  ',"\n  ","\n"]);return b=function(){return e},e}var Z={};p();var T=(0,h.Ps)(f(),v.eL),y=(0,h.Ps)(b(),v.eL,T),_=t(74833),x=t(56596),O=t(2759),w=t(39865),C=t(36464),z=t(29287),G=t(4954),I=t(35972),B=t(87001),E=t(76566),S=t(97615);function k(){var e=(0,m._)(["\n  query EducatorVerificationBanner {\n    currentUser {\n      id\n      showVerifyTeacherBanner\n    }\n  }\n"]);return k=function(){return e},e}var D={},P=(0,h.Ps)(k()),U=t(50494);function X(){var e,n,t,r=(e=(0,d._)({},D,void 0),g.a(P,e)).data,i=(0,U.e)("teams-for-education-verification-prompt");return{shouldShowBanner:null!==(t=null==r?void 0:null===(n=r.currentUser)||void 0===n?void 0:n.showVerifyTeacherBanner)&&void 0!==t&&t&&!i.isDone&&!i.isLoading,hideBanner:i.setAsDone}}function M(){var e=X();return e.shouldShowBanner?(0,c.tZ)(x.G,{css:z.l0.align.start,children:(0,c.tZ)(E.u,{icon:(0,c.tZ)(S.Z,{}),href:"/verify-teacher",text:"Please click here to verify your status as an approved educator.",closable:!0,closeAction:e.hideBanner})}):null}var R=t(42516),A=t(66626),N=t(84626),L=t(8649),W=t(73157),V=t(1498),q=t(15146),F=t(49344),K=t(38080),$=t(29479),j=t(99741),H=t(67313),Y=t(88936),J=t(99656),Q=t(58003),ee=t(60892),en=t(43312),et=t(30703),er=function(e){var n=e.orgId;return(0,c.BX)(x.G,{children:[(0,c.tZ)(_.xv,{variant:"subheadBig",css:[z.l0.pt(8),z.l0.pb(16)],multiline:!1,children:"Manage Plan"}),(0,c.tZ)(_.xv,{multiline:!1,children:(0,c.tZ)("a",{href:"/stripe-customer-portal?orgId=".concat(n),children:"Change payment method, view invoices, and cancel subscription"})})]})},ei=t(55534),ea=t(20399),eo=t(52682),el=t(22487),es=t(6187),ec=t(72310),eu=t(26220),ed=t(18836),em=t(54254),eh=t(58719),ev=t(26026),eg=t(10981),ep=t(16347);function ef(e){var n=e.organization,t=e.createInvite,r=(0,A._)((0,u.useState)(!1),2),i=r[0],a=r[1],o=(0,ec.Y)("",eu.Z.isValidEmail),l=(0,es.Z)(o.value,250);(0,ep.gJ)({variables:{query:l,limit:5},onCompleted:function(e){var n=e.usernameSearch;n&&m(n)}});var s=(0,A._)((0,u.useState)([]),2),d=s[0],m=s[1],h=(0,u.useCallback)(function(e){t({variables:{input:{usernameOrEmail:e||o.value,orgId:n.id}}}),o.setValue(""),m([])},[t,n,o]),v=(0,A._)((0,u.useState)(!1),2),g=v[0],p=v[1],f=(0,el.Z)(function(){return p(!1)},[]);(0,u.useEffect)(function(){d.length>0?p(!0):p(!1)},[d]);var b=(0,eg.U)();return(0,c.tZ)(x.G,{children:i?(0,c.tZ)(K.Tg,{background:"higher",css:[z.l0.p(16),z.l0.borderRadius(8)],children:(0,c.BX)(x.G,{children:[(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.mb(16)],children:[(0,c.BX)(_.xv,{variant:"subheadDefault",multiline:!1,children:["Add admin to ",n.name]}),(0,c.tZ)(q.hU,{alt:"Close add admin or org dialog",onClick:function(){return a(!1)},children:(0,c.tZ)(eh.Z,{})})]}),(0,c.BX)(x.G,{css:[z.l0.mb(32)],children:[(0,c.tZ)("label",{htmlFor:b("usernameOrEmail"),children:(0,c.tZ)(_.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Invite with username or email"})}),(0,c.tZ)("form",{onSubmit:function(){},children:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.mt(4)],innerRef:f,children:[(0,c.BX)(x.G,{css:[{flexGrow:2}],children:[(0,c.tZ)(ed.II,{placeholder:"Type a username or email address",value:o.value,onChange:function(e){return o.setValue(e.target.value)},id:b("usernameOrEmail")}),g?(0,c.tZ)(x.G,{css:[z.l0.backgroundColor.backgroundHighest,z.l0.borderRadius(8),{position:"relative",border:"1px solid ".concat(z.TV.outlineDefault)}],children:(0,c.tZ)(ea.v2,{label:"Returned users from search",onAction:h,children:d.map(function(e){return(0,c.tZ)(ea.ck,{"aria-label":e.username,children:(0,c.tZ)(em.n,{src:e.image,username:e.username,small:!0})},e.username)})})}):null]}),(0,c.tZ)(V.zx,{type:"submit",text:"Invite",iconLeft:(0,c.tZ)(ev.Z,{}),css:[z.l0.ml(16)],onClick:function(){return h()},disabled:!!o.error})]})})]})]})}):(0,c.tZ)(x.G,{css:[z.l0.flex.row],children:(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(ev.Z,{}),text:"Add Org Admin or Owner",onClick:function(){return a(!0)},colorway:"primary",stretch:!1})})})}var eb=t(75582),eZ=t(99165);function eT(){var e=(0,m._)(["\n  fragment MemberUser on User {\n    id\n    displayName\n    image\n  }\n"]);return eT=function(){return e},e}function ey(){var e=(0,m._)(["\n  fragment MemberMgmtMember on TeamOrganizationMembership {\n    id\n    role\n    user {\n      id\n      ...MemberUser\n    }\n  }\n  ","\n"]);return ey=function(){return e},e}function e_(){var e=(0,m._)(["\n  fragment TeamOrganizationPendingInvite on TeamOrganizationInvite {\n    id\n    usernameOrEmail\n    user {\n      id\n      ...MemberUser\n    }\n  }\n  ","\n"]);return e_=function(){return e},e}function ex(){var e=(0,m._)(["\n  fragment MemberMgmtOrg on TeamOrganization {\n    id\n    name\n    members {\n      id\n      ...MemberMgmtMember\n    }\n    pendingInvites {\n      id\n      ...TeamOrganizationPendingInvite\n    }\n    inviteLink {\n      id\n      code\n    }\n  }\n  ","\n  ","\n"]);return ex=function(){return e},e}function eO(){var e=(0,m._)(["\n  query TeamOrgMemberMgmt($teamOrgId: Int!) {\n    teamOrganization(id: $teamOrgId) {\n      ...MemberMgmtOrg\n    }\n  }\n  ","\n"]);return eO=function(){return e},e}function ew(){var e=(0,m._)(["\n  mutation UpdateTeamOrgMemberRole($input: UpdateTeamOrganizationMemberInput!) {\n    updateTeamOrganizationMember(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ew=function(){return e},e}function eC(){var e=(0,m._)(["\n  mutation DeleteTeamOrgMember($input: DeleteTeamOrganizationMemberInput!) {\n    deleteTeamOrganizationMember(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return eC=function(){return e},e}function ez(){var e=(0,m._)(["\n  mutation CreateTeamOrgInviteLink($orgId: Int!) {\n    createTeamOrgInviteLink(orgId: $orgId) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ez=function(){return e},e}function eG(){var e=(0,m._)(["\n  mutation DeleteTeamOrgInviteLink($orgId: Int!) {\n    deleteTeamOrgInviteLink(orgId: $orgId) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return eG=function(){return e},e}var eI={},eB=(0,h.Ps)(eT()),eE=(0,h.Ps)(ey(),eB),eS=(0,h.Ps)(e_(),eB),ek=(0,h.Ps)(ex(),eE,eS),eD=(0,h.Ps)(eO(),ek),eP=(0,h.Ps)(ew(),ek),eU=(0,h.Ps)(eC(),ek);function eX(){var e=(0,m._)(["\n  mutation CreateTeamOrgInvite($input: CreateTeamOrgInviteInput!) {\n    createTeamOrganizationInvite(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n"]);return eX=function(){return e},e}function eM(){var e=(0,m._)(["\n  mutation DeleteTeamOrgInvite($input: DeleteTeamOrgInviteInput!) {\n    deleteTeamOrganizationInvite(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return eM=function(){return e},e}ez(),eG();var eR={},eA=(0,h.Ps)(eX(),ek),eN=(0,h.Ps)(eM(),ek),eL=function(e){var n=e.image;return(0,c.tZ)(x.G,{tag:"span",css:[z.l0.mr(16),z.l0.borderRadius(16),{width:32,height:32,backgroundSize:"cover",backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center"}]})},eW=function(e){var n,t,r,i,a,o,l=e.organization,s=e.currentUserId,m=(0,ei.Z)().showError,h=(0,A._)((0,u.useState)([]),2),v=h[0],p=h[1],f=(0,A._)((0,u.useState)([]),2),b=f[0],Z=f[1],T=function(e){p(e.members),Z(e.pendingInvites)},y=function(e){m(e.message)},O=(n={variables:{teamOrgId:l.id},onCompleted:function(e){var n;(null===(n=e.teamOrganization)||void 0===n?void 0:n.__typename)==="TeamOrganization"&&T(e.teamOrganization)},onError:function(e){y(e)}},t=(0,d._)({},eI,n),g.a(eD,t)).loading,w=(0,A._)((r=(0,d._)({},eI,{onCompleted:function(e){var n,t,r;(null===(n=e.updateTeamOrganizationMember)||void 0===n?void 0:n.__typename)==="TeamOrganization"?T(e.updateTeamOrganizationMember):((null===(t=e.updateTeamOrganizationMember)||void 0===t?void 0:t.__typename)==="UnauthorizedError"||(null===(r=e.updateTeamOrganizationMember)||void 0===r?void 0:r.__typename)==="NotFoundError")&&y(e.updateTeamOrganizationMember)},onError:function(e){y(e)}}),eZ.D(eP,r)),1)[0],C=(0,A._)((i=(0,d._)({},eI,{onCompleted:function(e){var n,t,r;(null===(n=e.deleteTeamOrganizationMember)||void 0===n?void 0:n.__typename)==="TeamOrganization"?T(e.deleteTeamOrganizationMember):((null===(t=e.deleteTeamOrganizationMember)||void 0===t?void 0:t.__typename)==="UnauthorizedError"||(null===(r=e.deleteTeamOrganizationMember)||void 0===r?void 0:r.__typename)==="NotFoundError")&&y(e.deleteTeamOrganizationMember)},onError:function(e){y(e)}}),eZ.D(eU,i)),1)[0],G=(0,A._)((a=(0,d._)({},eR,{onCompleted:function(e){var n,t,r,i,a;(null===(n=e.createTeamOrganizationInvite)||void 0===n?void 0:n.__typename)==="TeamOrganization"?T(e.createTeamOrganizationInvite):((null===(t=e.createTeamOrganizationInvite)||void 0===t?void 0:t.__typename)==="UserError"||(null===(r=e.createTeamOrganizationInvite)||void 0===r?void 0:r.__typename)==="UnauthorizedError"||(null===(i=e.createTeamOrganizationInvite)||void 0===i?void 0:i.__typename)==="NotFoundError"||(null===(a=e.createTeamOrganizationInvite)||void 0===a?void 0:a.__typename)==="TooManyRequestsError")&&y(e.createTeamOrganizationInvite)},onError:function(e){y(e)}}),eZ.D(eA,a)),1)[0],I=(0,A._)((o=(0,d._)({},eR,{onCompleted:function(e){var n,t,r,i;(null===(n=e.deleteTeamOrganizationInvite)||void 0===n?void 0:n.__typename)==="TeamOrganization"?T(e.deleteTeamOrganizationInvite):((null===(t=e.deleteTeamOrganizationInvite)||void 0===t?void 0:t.__typename)==="UserError"||(null===(r=e.deleteTeamOrganizationInvite)||void 0===r?void 0:r.__typename)==="UnauthorizedError"||(null===(i=e.deleteTeamOrganizationInvite)||void 0===i?void 0:i.__typename)==="NotFoundError")&&y(e.deleteTeamOrganizationInvite)},onError:function(e){y(e)}}),eZ.D(eN,o)),1)[0];return O?(0,c.tZ)(x.G,{css:[z.l0.flex.row,z.l0.justify.center],children:(0,c.tZ)(Y.Z,{})}):(0,c.BX)(x.G,{children:[(0,c.tZ)(ef,{organization:l,createInvite:G}),(0,c.BX)(x.G,{children:[v.map(function(e,n){var t,r,i,a,o,u;return(null===(t=e.user)||void 0===t?void 0:t.__typename)!=="User"?null:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.pt(16),z.l0.mt(16),{borderTop:0===n?"none":"1px solid ".concat(z.TV.backgroundHighest)}],children:[(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[(0,c.tZ)(eL,{image:e.user.image}),(0,c.BX)(x.G,{children:[(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:"".concat(null===(r=e.user)||void 0===r?void 0:r.displayName).concat(s===e.user.id?" (you)":"")}),!1]})]}),(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[("admin"===e.role&&(null===(i=l.userPermissions)||void 0===i?void 0:i.canRemoveOrgAdmins)||"owner"===e.role&&(null===(a=l.userPermissions)||void 0===a?void 0:a.canRemoveOrgOwners))&&s!==e.user.id?(0,c.tZ)(q.hU,{alt:"Remove user ".concat(e.user.displayName," with role ").concat(e.role),size:28,onClick:function(){var n;(null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.id)&&C({variables:{input:{orgId:l.id,memberId:e.user.id,retainTeamAccess:!0}}})},children:(0,c.tZ)(eo.Z,{})}):null,(null===(o=l.userPermissions)||void 0===o?void 0:o.canRemoveOrgOwners)&&s!==e.user.id?null:(0,c.tZ)(V.zx,{disabled:!0,text:"owner"===e.role?"Org Owner":"Org Admin",css:[z.l0.ml(8),z.l0.color.foregroundDefault]}),(null===(u=l.userPermissions)||void 0===u?void 0:u.canRemoveOrgOwners)&&s!==e.user.id?(0,c.tZ)(x.G,{css:[z.l0.ml(8)],children:(0,c.BX)(ea.ZE,{label:"owner"===e.role?"Org Owner":"Org Admin",onAction:function(n){var t,r;(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.id)&&w({variables:{input:{orgId:l.id,memberId:null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.id,role:n}}})},children:[(0,c.tZ)(ea.ck,{children:"Org Owner"},eb.fg.Owner),(0,c.tZ)(ea.ck,{children:"Org Admin"},eb.fg.Admin)]})}):null]})]},e.id)}),b.length>0&&(0,c.BX)(x.G,{css:[z.l0.mt(16)],children:[(0,c.tZ)(N.Z,{text:"Pending Invitations"}),b.map(function(e,n){var t;return(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.mt(16),z.l0.pt(0===n?0:16),{borderTop:0===n?"none":"1px solid ".concat(z.TV.backgroundHighest)}],children:[(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[e.user?(0,c.tZ)(eL,{image:e.user.image}):null,(0,c.BX)(x.G,{children:[(0,c.tZ)(_.xv,{multiline:!1,variant:"subheadDefault",css:[z.l0.mb(e.user?4:0)],children:(null===(t=e.user)||void 0===t?void 0:t.displayName)||e.usernameOrEmail}),(e.user,null)]})]}),(0,c.tZ)(q.hU,{alt:"Remove invite for user",size:28,onClick:function(){I({variables:{input:{orgId:l.id,inviteId:e.id}}})},children:(0,c.tZ)(eo.Z,{})})]},n)})]})]})]})},eV=t(60769),eq=t(93918);function eF(){var e=(0,m._)(["\n  query SettingsMgmtTeamOrganization($id: Int!) {\n    teamOrganization(id: $id) {\n      ... on TeamOrganization {\n        id\n        name\n        isAiEnabled\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return eF=function(){return e},e}function eK(){var e=(0,m._)(["\n  mutation SettingsMgmtUpdateTeamOrganization(\n    $input: UpdateTeamOrganizationInput!\n  ) {\n    updateTeamOrganization(input: $input) {\n      ... on TeamOrganization {\n        id\n        name\n        isAiEnabled\n      }\n    }\n  }\n"]);return eK=function(){return e},e}var e$={},ej=(0,h.Ps)(eF()),eH=(0,h.Ps)(eK()),eY=(0,eq.X)({isAiEnabledWrapper:[z.l0.rowWithGap(8),z.l0.justify.start,z.l0.align.start],isAiEnabledCheckboxContainer:[z.l0.py(2)],errorText:[z.l0.color.accentNegativeDefault]}),eJ=function(e){var n,t,r=e.orgId,i=(0,eg.U)(),a=(n=(0,d._)({},e$,{variables:{id:r}}),g.a(ej,n)),o=a.data,l=a.loading,s=(0,A._)((t=(0,d._)({},e$,void 0),eZ.D(eH,t)),2),u=s[0],m=s[1].loading;if(l||!o)return(0,c.tZ)(Y.Z,{});if("TeamOrganization"!==o.teamOrganization.__typename)return(0,c.tZ)(_.xv,{css:eY.errorText,children:"Error. Please contact support."});var h=o.teamOrganization;return(0,c.tZ)(x.G,{children:(0,c.BX)(x.G,{css:eY.isAiEnabledWrapper,children:[(0,c.tZ)(x.G,{css:eY.isAiEnabledCheckboxContainer,children:(0,c.tZ)(eV.X,{id:i("unlisted"),checked:h.isAiEnabled,onChange:function(e){u({variables:{input:{id:r,name:h.name,isAiEnabled:e.target.checked}},optimisticResponse:{__typename:"RootMutationType",updateTeamOrganization:{__typename:"TeamOrganization",id:r,name:h.name,isAiEnabled:e.target.checked}}})},disabled:l||m})}),(0,c.tZ)("label",{htmlFor:i("unlisted"),children:(0,c.BX)(x.G,{children:[(0,c.tZ)(_.xv,{color:"default",children:"Enable AI for your team"}),(0,c.tZ)(_.xv,{color:"dimmest",children:"This includes AI Code Complete and AI chat in Replit Workspace"})]})})]})})},eQ=t(32377),e0=t(52924);function e1(){var e=(0,m._)(["\n  mutation TeamOrgNameSectionUpdateTeamOrganization(\n    $input: UpdateTeamOrganizationInput!\n  ) {\n    updateTeamOrganization(input: $input) {\n      ... on TeamOrganization {\n        id\n        name\n      }\n    }\n  }\n"]);return e1=function(){return e},e}var e2={},e5=(0,h.Ps)(e1()),e3=function(e){var n,t=e.organization,r=(0,ei.Z)(),i=r.showConfirm,a=r.showError,o=(0,A._)((0,u.useState)(!1),2),l=o[0],s=o[1],m=(0,A._)((n=(0,d._)({},e2,{onCompleted:function(e){"TeamOrganization"===e.updateTeamOrganization.__typename&&(i("Success"),s(!1))},onError:function(e){a(e.message),s(!1)}}),eZ.D(e5,n)),2),h=m[0],v=m[1].loading,g=(0,ec.Y)(t.name,function(e){if(e.length<1)return{message:"Name is required"}});return(0,c.tZ)(x.G,{css:[z.l0.flex.row,z.l0.align.center,z.l0.pb(32)],children:l?(0,c.tZ)("form",{onSubmit:function(e){e.preventDefault(),h({variables:{input:{id:t.id,name:g.value}}})},children:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[(0,c.tZ)(ed.II,{placeholder:"Organization name",value:g.value,onChange:function(e){return g.setValue(e.target.value)},autoFocus:!0}),(0,c.tZ)(V.zx,{text:"Cancel",onClick:function(){return s(!1)},css:[z.l0.ml(16)],disabled:v}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(eQ.Z,{}),text:v?"Saving...":"Save",type:"submit",css:[z.l0.ml(16)],disabled:v,colorway:"primary"})]})}):(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[(0,c.tZ)(_.h4,{level:2,variant:"headerBig",css:[z.l0.pr(8)],children:t.name}),(0,c.tZ)(q.hU,{alt:"Update organization name",size:24,onClick:function(){return s(!0)},children:(0,c.tZ)(e0.Z,{})})]})})},e7=function(e){var n=e.text,t=e.selected,r=e.onClick,i=e.Icon,a=(0,en.iv)({paddingTop:z.TV.space16,paddingBottom:z.TV.space24,backgroundColor:t?"default":z.TV.backgroundHigher});return(0,c.tZ)(x.G,{css:[z.l0.mx(4)],children:(0,c.tZ)(V.zx,{css:a,text:n,stretch:!1,iconLeft:(0,c.tZ)(i,{}),onClick:r})})},e4=function(e){var n=e.children,t=(0,en.iv)({overflow:"hidden",borderBottom:"1px solid",borderColor:z.TV.backgroundHighest,height:32});return(0,c.tZ)(x.G,{css:t,children:(0,c.tZ)(x.G,{css:[z.l0.flex.row,z.l0.ml(16)],children:n})})};(r=o||(o={})).MEMBERS="MEMBERS",r.BILLING="BILLING",r.SETTINGS="SETTINGS";var e8=function(e){var n,t,r,i,a,o=e.isOpen,l=e.setClose,s=e.organization,d=e.currentUserId,m=(0,A._)((0,u.useState)("MEMBERS"),2),h=m[0],v=m[1],g=null===(n=s.capabilities)||void 0===n?void 0:n.isBusinessPlan,p=(null===(t=s.capabilities)||void 0===t?void 0:t.isBusinessPlan)?"".concat(s.capabilities.availableSeats,"/").concat(s.quantity," Members"):"Members",f=(null==s?void 0:null===(r=s.userPermissions)||void 0===r?void 0:r.canEditBilling)&&!(null===(i=s.capabilities)||void 0===i?void 0:i.isEducationPlan),b=!!(null===(a=s.customer)||void 0===a?void 0:a.stripeCustomerId);return(0,c.BX)(F.u,{isOpen:o,onRequestClose:l,noPadding:!0,maxWidth:872,children:[(0,c.tZ)(x.G,{css:[z.l0.p(16),z.l0.pb(0)],children:(0,c.tZ)(e3,{organization:s})}),(0,c.BX)(e4,{children:[(0,c.tZ)(e7,{text:p,Icon:ee.Z,selected:"MEMBERS"===h,onClick:function(){return v("MEMBERS")}}),f&&b?(0,c.tZ)(e7,{text:"Billing/Plan",Icon:et.Z,selected:"BILLING"===h,onClick:function(){return v("BILLING")}}):null,g?(0,c.tZ)(e7,{text:"Settings",Icon:Q.Z,selected:"SETTINGS"===h,onClick:function(){return v("SETTINGS")}}):null]}),(0,c.BX)(x.G,{css:[z.l0.p(16)],children:["MEMBERS"===h&&(0,c.tZ)(eW,{organization:s,currentUserId:d}),"BILLING"===h&&(0,c.tZ)(er,{orgId:s.id}),"SETTINGS"===h&&(0,c.tZ)(eJ,{orgId:s.id})]})]})},e6=t(47611),e9=t(73524),ne=t(27387),nn=t(96583),nt=t(87226),nr=t(30983),ni=t(80339),na=t(33914),no=t(29358);function nl(){var e=(0,m._)(["\n  mutation CreateTeamForm($input: CreateTeamV2Input!) {\n    createTeamV2(input: $input) {\n      ... on Team {\n        id\n        ...TeamCard\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nl=function(){return e},e}var ns={},nc=(0,h.Ps)(nl(),v.eL),nu=function(e){var n,t,r,i=e.org,a=e.onCreate,o=e.onCancel,l=e.showStudentPrivacyCheckbox,s=(0,eg.U)(),m=s("displayName"),h=s("teamUsername"),v=(0,A._)((0,u.useState)(!1),2),g=v[0],p=v[1],f=(0,ei.Z)().showError,b=(0,ec.Y)("",function(e){if(e.length>60)return{message:"Display name limited 60 characters"}}),Z=(0,ec.Y)("",eu.Z.teamUsername),T=(0,A._)((0,u.useState)(!1),2),y=T[0],O=T[1],w=!!(b.error||Z.error),C=(0,A._)((n=(0,d._)({},ns,{onError:function(e){f(e.message)},onCompleted:function(e){"Team"===e.createTeamV2.__typename?(a(e.createTeamV2),k()):("UserError"===e.createTeamV2.__typename||"UnauthorizedError"===e.createTeamV2.__typename)&&f(e.createTeamV2.message)}}),eZ.D(nc,n)),2),G=C[0],I=C[1].loading,B=(t=(0,ne._)(function(){var e,n;return(0,nn.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=b.value.toLowerCase().replace(/\s+/g,"-").replace(/[^0-9a-z-]/g,"").replace(/^-|-$|--/g,"")||"team-".concat(Math.ceil(1e7*Math.random())),p(!0),[4,(0,nt.uz)("/data/user/generate_username",{initialName:e,maxLength:28})];case 1:return n=t.sent().username,Z.setValue(n),p(!1),[3,3];case 2:return t.sent(),p(!1),f("Could not generate a unique username."),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)}),k=function(){b.setValue(""),Z.setValue(""),p(!1),o()},D=(r=(0,ne._)(function(e){var n;return(0,nn.Jh)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),n=b.validate())return[3,2];return[4,Z.validate()];case 1:n=t.sent(),t.label=2;case 2:if(n)return[2];return[4,G({variables:{input:{displayName:b.value,username:Z.value,orgId:i.id,privacyInvite:y}}})];case 3:return t.sent(),[2]}})}),function(e){return r.apply(this,arguments)}),P=(0,en.iv)({borderRadius:"".concat(z.TV.space8," !important")}),U=(0,en.iv)({border:"none",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal",textDecoration:"underline",":disabled":{color:z.TV.foregroundDimmest},":not([disabled])":{cursor:"pointer"}}),X=I||g;return(0,c.BX)(x.G,{tag:"form",css:[z.l0.colWithGap(24)],onSubmit:D,children:[(0,c.BX)(x.G,{css:[z.l0.colWithGap(16)],children:[(0,c.BX)(_.h4,{variant:"headerDefault",level:2,css:z.l0.maxWidth("100%"),children:["New Team in $",i.name]}),(0,c.tZ)(E.u,{icon:(0,c.tZ)(ni.Z,{}),href:"https://docs.replit.com/teams-edu/assigning-user-roles",text:"This Team is in ".concat(i.name,". Organization owners can see the members and contents of this team. Click here to learn more about Organization roles.")})]}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:m,children:(0,c.tZ)(_.xv,{color:"dimmer",multiline:!1,children:"Team display name"})}),(0,c.tZ)(no.ZP,{autoFocus:!0,disabled:X,css:P,id:m,value:b.value,placeholder:"What should the Team be called?",onBlur:b.handleBlur,validationResults:b.error?[{message:b.error.message,state:"error"}]:void 0,onChange:function(e){return b.setValue(e.currentTarget.value)}})]}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(4)],children:[(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.align.start],children:[(0,c.tZ)("label",{htmlFor:h,children:(0,c.tZ)(_.xv,{color:"dimmer",multiline:!1,children:"Team username"})}),(0,c.tZ)("button",{disabled:X,css:[U],type:"button",onClick:B,"data-cy":"generate-username-btn",children:"Generate Unique Username"})]}),(0,c.tZ)(no.ZP,{required:!0,disabled:X,css:P,id:h,value:Z.value,placeholder:"team-username",onBlur:Z.handleBlur,validationResults:Z.error?[{message:Z.error.message,state:"error"}]:void 0,onChange:function(e){return Z.setValue(e.currentTarget.value)}}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(4)],children:[(0,c.tZ)(na.Z,{size:12}),(0,c.tZ)(_.xv,{variant:"small",multiline:!1,children:"You can’t change this after creating a Team! So pick carefully."})]})]}),l?(0,c.BX)(x.G,{css:[z.l0.rowWithGap(8)],children:[(0,c.tZ)(eV.X,{id:s("privacyInvite"),checked:y,onChange:function(){return O(!y)},dataCy:"new-team-privacy-checkbox"}),(0,c.tZ)("label",{htmlFor:s("privacyInvite"),children:"Click here if any of your students are under thirteen years of age."}),(0,c.tZ)(nr.u,{placement:"auto",tooltip:"For compliance with COPPA and other privacy laws, please check this box to enable privacy mode access for students.",children:(0,c.tZ)(S.Z,{})})]}):null,(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",type:"button",onClick:k,disabled:X}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(J.Z,{}),disabled:w||X,text:"Create Team",colorway:"primary",type:"submit",dataCy:"create-team-submit"})]})]})},nd=t(31900),nm=t(79378),nh=t(65238),nv=t(82104),ng=t(73722),np=t(33988),nf=t.n(np);function nb(){var e=(0,m._)(["\n  mutation ArchiveTeamModalArchiveTeam($input: ArchiveTeamInput!) {\n    archiveTeam(input: $input) {\n      ... on Team {\n        id\n        archived\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nb=function(){return e},e}function nZ(){var e=(0,m._)(["\n  mutation UnarchiveTeamModalArchiveTeam($input: UnarchiveTeamInput!) {\n    unarchiveTeam(input: $input) {\n      ... on Team {\n        id\n        archived\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nZ=function(){return e},e}var nT={},ny=(0,h.Ps)(nb()),n_=(0,h.Ps)(nZ()),nx=function(e){var n,t,r,i,a=e.team,o=e.isOpen,l=e.onRequestClose,s=e.onArchive,u=(0,ei.Z)(),m=u.showConfirm,h=u.showError,v=(0,A._)((n={variables:{input:{teamId:a.id}},onCompleted:function(e){"Team"===e.archiveTeam.__typename&&(m("Team archived"),s(),l()),("UserError"===e.archiveTeam.__typename||"UnauthorizedError"===e.archiveTeam.__typename||"NotFoundError"===e.archiveTeam.__typename)&&h(e.archiveTeam.message)}},t=(0,d._)({},nT,n),eZ.D(ny,t)),2),g=v[0],p=v[1].loading,f=(0,A._)((r={variables:{input:{teamId:a.id}},onCompleted:function(e){"Team"===e.unarchiveTeam.__typename&&(m("Team unarchived"),s(),l()),("UserError"===e.unarchiveTeam.__typename||"UnauthorizedError"===e.unarchiveTeam.__typename||"NotFoundError"===e.unarchiveTeam.__typename)&&h(e.unarchiveTeam.message)}},i=(0,d._)({},nT,r),eZ.D(n_,i)),2),b=f[0],Z=f[1].loading,T=p||Z;return(0,c.tZ)(F.u,{isOpen:o,onRequestClose:l,children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(32)],children:[(0,c.BX)(_.h4,{variant:"headerDefault",level:2,css:z.l0.maxWidth("100%"),children:[a.archived?"Unarchive":"Archive"," ",a.displayName||a.username,"?"]}),a.archived?(0,c.tZ)(_.xv,{children:"Unarchiving will show the Team in the Organization, and members will be able to create new Repls in the Team. You can archive again at any time."}):(0,c.BX)(x.G,{css:z.l0.colWithGap(8),children:[(0,c.tZ)(_.xv,{children:"Archiving will hide the Team from the Organization. Members will be able to access Repls created in this Team, but new Repls can not be created. You can unarchive the Team at any time."}),(0,c.tZ)(_.xv,{children:"Archiving is a good option if you are done with a Team, but want to retain access to the content in it."})]}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",disabled:T,onClick:l}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(nv.Z,{}),disabled:T,onClick:function(){a.archived?b():g()},text:"".concat(a.archived?"Unarchive":"Yes, archive this"," Team"),colorway:a.archived?"primary":"negative"})]})]})})};function nO(){var e=(0,m._)(["\n  fragment TeamsDeleteTeamModalTeam on Team {\n    id\n    username\n  }\n"]);return nO=function(){return e},e}function nw(){var e=(0,m._)(["\n  mutation TeamsDeleteTeamModalDeleteTeam($input: DeleteTeamInput!) {\n    deleteTeam(input: $input) {\n      ... on Team {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return nw=function(){return e},e}var nC={};nO();var nz=(0,h.Ps)(nw()),nG=function(e){var n,t,r=e.team,i=e.isOpen,a=e.onRequestClose,o=e.onDelete,l=(0,ei.Z)(),s=l.showConfirm,m=l.showError,h=(0,eg.U)()("confirmName"),v=r.displayName||r.username,g=(0,A._)((0,u.useState)(""),2),p=g[0],f=g[1],b=p===v,Z=(0,A._)((n={variables:{input:{teamId:r.id}},onCompleted:function(e){"Team"===e.deleteTeam.__typename?(o(),s("Team deleted"),a()):"UserError"===e.deleteTeam.__typename&&(m(e.deleteTeam.message),a())},onError:function(e){m(e.graphQLErrors[0].message||"Something went wrong when deleting this team"),a()}},t=(0,d._)({},nC,n),eZ.D(nz,t)),2),T=Z[0],y=Z[1].loading;return(0,c.tZ)(F.u,{isOpen:i,onRequestClose:a,children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],tag:"form",children:[(0,c.BX)(_.h4,{variant:"headerDefault",level:1,css:z.l0.maxWidth("100%"),children:["Delete ",v,"?"]}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(8)],children:[(0,c.tZ)(_.xv,{children:"Deleting will remove the Team from this Organization, and all Repls and Folders in this Team will be deleted. Are you sure you want to delete this Team?"}),(0,c.tZ)(_.xv,{children:"Be careful, deleting a Team cannot be undone. If you want to save the contents of the Team, consider archiving the Team instead."})]}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(8)],children:[(0,c.BX)("label",{htmlFor:h,css:[z.l0.color.foregroundDimmer,{fontSize:z.TV.fontSizeSmall,lineHeight:z.TV.lineHeightSmall}],children:["Type the Team name (",v,") to delete"]}),(0,c.tZ)(ed.II,{autoFocus:!0,disabled:y,id:h,value:p,placeholder:v,onChange:function(e){return f(e.currentTarget.value)}})]}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",disabled:y,onClick:a}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(eo.Z,{}),disabled:!b||y,onClick:function(){return T()},text:"".concat(y?"Deleting Team...":"Yes, delete this Team"),colorway:"negative"})]})]})})};function nI(){var e=(0,m._)(["\n  fragment LeaveTeamOutput on TeamOutput {\n    ... on Team {\n      id\n    }\n    ... on UserError {\n      message\n    }\n  }\n"]);return nI=function(){return e},e}function nB(){var e=(0,m._)(["\n  mutation TeamCardLeaveTeam($teamId: Int!) {\n    leaveTeam(teamId: $teamId) {\n      ...LeaveTeamOutput\n    }\n  }\n  ","\n"]);return nB=function(){return e},e}var nE={},nS=(0,h.Ps)(nI()),nk=(0,h.Ps)(nB(),nS),nD=function(e){var n,t,r=e.team,i=e.isOpen,a=e.onRequestClose,o=e.onLeave,l=(0,ei.Z)(),s=l.showConfirm,u=l.showError,m=(0,A._)((n={variables:{teamId:r.id},onError:function(e){var n=e.graphQLErrors[0];n.message?u(n.message):u("Something went wrong when leaving this team")},onCompleted:function(e){e&&"Team"===e.leaveTeam.__typename?(o(),s("Successfully left team"),a()):e&&"UserError"===e.leaveTeam.__typename&&u(e.leaveTeam.message)}},t=(0,d._)({},nE,n),eZ.D(nk,t)),2),h=m[0],v=m[1].loading;return(0,c.tZ)(F.u,{isOpen:i,onRequestClose:a,children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.BX)(_.h4,{variant:"headerDefault",level:2,css:z.l0.maxWidth("100%"),children:["Leave ",r.displayName||r.username,"?"]}),(0,c.tZ)(_.xv,{children:"Are you sure you want to leave this Team? You will lose access to all of the Team’s Repls and Folders."}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",disabled:v,onClick:a}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(nh.Z,{}),disabled:v,onClick:function(){return h()},text:"Yes, leave Team",colorway:"negative"})]})]})})},nP=t(32619);(i=l||(l={})).Leave="Leave Team",i.Delete="Delete Team",i.Archive="Archive Team",i.Unarchive="Unarchive Team";var nU="@media screen and (min-width: ".concat($.j.tabletMin,"px)"),nX=function(e){var n=e.team;return(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center,z.l0.flex.shrink(2),z.l0.color.foregroundDefault,z.l0.rowWithGap(8),(0,R._)({},nU,{flexGrow:1})],children:[(0,c.tZ)(nm.q,{src:n.image,username:n.username}),(0,c.tZ)(x.G,{css:[z.l0.flex.shrink(2)],children:(0,c.tZ)(_.xv,{multiline:!1,maxLines:1,variant:"subheadDefault",children:n.displayName||n.username})})]})},nM=function(e){var n,t,r,i=e.team,a=e.onRemove,o=e.showBottomBorder,l=e.canJoinTeam,s=void 0!==l&&l,d=(0,ei.Z)().showError,m=(0,A._)((0,u.useState)(!1),2),h=m[0],g=m[1],p=(0,A._)((0,v._O)({onCompleted:function(e){var n=e.joinTeamAsOrgAdmin;"Team"===n.__typename?a():("UserError"===n.__typename||"NotFoundError"===n.__typename||"UnauthorizedError"===n.__typename)&&(d(n.message),g(!1))},onError:function(){g(!1)}}),1)[0],f=(0,en.F4)("\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  "),b=(0,A._)((0,u.useState)(null),2),Z=b[0],T=b[1],y=function(){return T(null)},_=!!(null===(n=i.userPermissions)||void 0===n?void 0:n.canLeaveTeam),O=!!(null===(t=i.userPermissions)||void 0===t?void 0:t.canDeleteTeam),w=!!(null===(r=i.userPermissions)||void 0===r?void 0:r.canArchiveTeam),C=[];return w&&C.push({label:i.archived?"Unarchive Team":"Archive Team",icon:(0,c.tZ)(nv.Z,{}),isDestructive:!i.archived}),_&&C.push({label:"Leave Team",icon:(0,c.tZ)(nh.Z,{}),isDestructive:!0}),O&&C.push({label:"Delete Team",icon:(0,c.tZ)(eo.Z,{}),isDestructive:!0}),(0,c.BX)(x.G,{dataCy:"team-card-".concat(i.username),css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.mx(16),z.l0.py(16),{borderBottom:o?"1px solid ".concat(z.TV.backgroundHighest):"none"}],children:[(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.flex.shrink(2),(0,R._)({},nU,{flexGrow:1})],children:[s?(0,c.tZ)(nX,{team:i}):(0,c.tZ)(nf(),{legacyBehavior:!0,href:{pathname:"/teamProfile",query:{teamname:i.username}},as:"/team/".concat(i.username),passHref:!0,children:(0,c.tZ)("a",{"data-cy":"team-card-link",children:(0,c.tZ)(nX,{team:i})})}),(0,c.tZ)(x.G,{css:[(0,R._)({display:"none"},nU,{display:"flex"})],children:(0,c.tZ)(nP.C,{size:32,members:i.members.map(function(e){return e.user}),memberCount:i.memberCount})})]}),s&&h?(0,c.tZ)(q.hU,{disabled:!0,css:[{alignSelf:"center",margin:"0 33px",animation:"".concat(f," 1s infinite linear")}],alt:"Joining team",children:(0,c.tZ)(ng.Z,{})}):null,s&&!h?(0,c.tZ)(V.zx,{css:[z.l0.ml(8)],text:"Join Team",onClick:function(){g(!0),p({variables:{teamId:i.id}})}}):null,0===C.length||s?null:(0,c.BX)(c.HY,{children:[(0,c.tZ)(x.G,{css:[z.l0.ml(8)],children:(0,c.tZ)("div",{onClick:function(e){e.preventDefault()},children:(0,c.tZ)(nd.Z,{label:"Team Actions",items:C,dataCy:"team-actions-".concat(i.username),onItemClick:function(e){return T(e.label)}})})}),(0,c.tZ)(nG,{isOpen:"Delete Team"===Z,team:i,onDelete:a,onRequestClose:y}),(0,c.tZ)(nD,{isOpen:"Leave Team"===Z,team:i,onLeave:a,onRequestClose:y}),(0,c.tZ)(nx,{isOpen:"Archive Team"===Z||"Unarchive Team"===Z,team:i,onArchive:a,onRequestClose:y})]})]})},nR=t(59868),nA=t(37951);function nN(){var e=(0,m._)(["\n  fragment TeamsChangePlanModalPreviewInvoiceItemGroup on PreviewInvoiceLineItemGroup {\n    periodStart\n    periodEnd\n    type\n    items {\n      description\n      amount\n      quantity\n    }\n  }\n"]);return nN=function(){return e},e}function nL(){var e=(0,m._)(["\n  query TeamsChangePlanModal($orgId: Int!) {\n    teamOrganization(id: $orgId) {\n      ... on TeamOrganization {\n        id\n        quantity\n        capabilities {\n          memberCount\n          availableSeats\n        }\n      }\n    }\n  }\n"]);return nL=function(){return e},e}function nW(){var e=(0,m._)(["\n  query TeamsChangePlanModalPreviewInvoice($input: PreviewInvoiceInput!) {\n    previewInvoice(input: $input) {\n      ... on PreviewInvoiceOutput {\n        total\n        balance\n        chargeDate\n        currentItems {\n          ...TeamsChangePlanModalPreviewInvoiceItemGroup\n        }\n        upcomingItems {\n          ...TeamsChangePlanModalPreviewInvoiceItemGroup\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nW=function(){return e},e}function nV(){var e=(0,m._)(["\n  mutation TeamsChangePlanModalUpdateSubscription(\n    $input: UpdateSubscriptionInput!\n  ) {\n    updateSubscription(input: $input) {\n      ... on UpdateSubscriptionOutput {\n        subscriptions {\n          id\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return nV=function(){return e},e}var nq={},nF=(0,h.Ps)(nN()),nK=(0,h.Ps)(nL()),n$=(0,h.Ps)(nW(),nF),nj=(0,h.Ps)(nV()),nH=t(49500);(a=s||(s={}))[a.SelectSeats=0]="SelectSeats",a[a.PreviewInvoice=1]="PreviewInvoice",a[a.Confirmation=2]="Confirmation";var nY=(0,en.iv)({borderRadius:"".concat(z.TV.space8," !important")}),nJ=function(e){var n=e.initialSeats,t=e.seats,r=e.memberCount,i=e.availableSeats,a=e.onCancel,o=e.onPreview,l=(0,eg.U)()("orgSeats"),s=(0,ec.Y)(t,function(e){return Number.isNaN(e)?{message:"Please enter a whole number"}:e?e<1?{message:"Please enter a whole number greater than or equal to ".concat(1)}:e>999?{message:"Please enter a whole number less than or equal to ".concat(999)}:void 0:void 0}),d=(0,u.useMemo)(function(){var e=s.value;return Number.isNaN(e)?"":e&&e>=1&&e<=999?"x $".concat(15,"/seat = $").concat(15*e,"/month"):void 0},[s.value]),m=!!s.error,h=(0,W.Z)("seat",n),v=(0,W.Z)("seat",i);return(0,c.tZ)(x.G,{children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(48)],children:[(0,c.tZ)(_.h4,{level:1,variant:"headerDefault",children:"Update Seat Count"}),(0,c.BX)("form",{css:[z.l0.colWithGap(48)],onSubmit:function(e){e.preventDefault(),s.value&&o(s.value)},children:[(0,c.BX)(x.G,{css:[z.l0.colWithGap(12)],children:[(0,c.tZ)(nA.E,{text:"Your subscription includes ".concat(n," ").concat(h,". \n                You are currently using ").concat(r," of ").concat(n," ").concat(h,". \n                You have ").concat(i," ").concat(v," available.")}),(0,c.tZ)("label",{htmlFor:l,children:"Number of seats"}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(8),z.l0.align.center],children:[(0,c.tZ)(x.G,{children:(0,c.tZ)(no.ZP,{type:"number",min:r,max:999,css:nY,id:l,required:!0,value:s.value||void 0,onBlur:s.handleBlur,validationResults:s.error?[{message:s.error.message,state:"error"}]:void 0,onChange:function(e){return s.setValue(parseInt(e.currentTarget.value,10))}})}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:d})]}),(0,c.tZ)(x.G,{children:(0,c.tZ)(_.xv,{children:"This will be charged monthly, starting with your next statement. You will also be charged or credited a prorated amount for the time left in this month for your increased or decreased seats at the beginning of your next statement."})})]}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",type:"button",onClick:function(){return a()}}),(0,c.tZ)(nr.u,{tooltip:"Please fix the errors above before checking out",isOpen:m,children:(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(eQ.Z,{}),disabled:m||s.value===n,text:"Preview Changes",colorway:"primary",type:"submit"})})]})]})]})})},nQ=function(e){var n,t,r,i=e.orgId,a=e.seats,o=e.onCancel,l=e.onPreview,s=(n=(0,d._)({},nq,{variables:{orgId:i}}),g.a(nK,n)),u=s.data,m=s.loading;if(!u||m)return(0,c.tZ)(x.G,{css:z.l0.align.center,children:(0,c.tZ)(Y.Z,{size:32})});var h="TeamOrganization"===u.teamOrganization.__typename&&u.teamOrganization.quantity,v="TeamOrganization"===u.teamOrganization.__typename&&(null===(t=u.teamOrganization.capabilities)||void 0===t?void 0:t.availableSeats),p="TeamOrganization"===u.teamOrganization.__typename&&(null===(r=u.teamOrganization.capabilities)||void 0===r?void 0:r.memberCount);return h&&"number"==typeof v&&"number"==typeof p?(0,c.tZ)(nJ,{initialSeats:h,seats:a||h,availableSeats:v,memberCount:p,onCancel:o,onPreview:l}):(0,c.tZ)(x.G,{children:(0,c.BX)(_.xv,{multiline:!1,children:["Something went wrong. Please"," ",(0,c.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"}),"."]})})},n0=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},n1=function(e){return e<0?(0,c.tZ)(_.xv,{css:{color:z.TV.accentPositiveStrongest},multiline:!1,children:n0(Math.abs(e))}):(0,c.tZ)(_.xv,{css:{color:z.TV.accentNegativeStrongest},multiline:!1,children:n0(e)})},n2=Intl.DateTimeFormat("en-US",{timeZone:"UTC",month:"2-digit",year:"numeric",day:"2-digit"}),n5=function(e){return n2.format(new Date(e))},n3=function(e){var n=e.group;return(0,c.BX)(x.G,{css:[z.l0.colWithGap(8),z.l0.p(8),{border:"1px solid ".concat(z.TV.outlineDefault),borderRadius:z.TV.borderRadiusDefault}],children:[(0,c.BX)(x.G,{css:[z.l0.rowWithGap(4),z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:"proration"===n.type?"Prorated billing period:":"Next billing period:"}),(0,c.BX)(_.xv,{css:{color:z.TV.foregroundDimmer},multiline:!1,children:["(",n5(n.periodStart)," - ",n5(n.periodEnd),")"]})]}),n.items.map(function(e){return(0,c.tZ)(x.G,{css:[z.l0.colWithGap(4)],children:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"proration"===n.type?e.amount>0?"Charge for remaining time, ".concat(e.quantity," seats:"):"Credit for unused time, ".concat(e.quantity," seats:"):e.description}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:n1(e.amount)})]})})}),(0,c.tZ)(x.G,{css:{borderTop:"1px solid ".concat(z.TV.outlineDefault)}}),(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"Amount due:"}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:n1(n.items.reduce(function(e,n){return n.amount+e},0))})]})]})},n7=function(e){var n=e.group;return(0,c.BX)(x.G,{css:[z.l0.colWithGap(8),z.l0.p(8),{border:"1px solid ".concat(z.TV.outlineDefault),borderRadius:z.TV.borderRadiusDefault}],children:[(0,c.BX)(x.G,{css:[z.l0.rowWithGap(4),z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:"proration"===n.type?"Prorated billing period:":"Next billing period:"}),(0,c.BX)(_.xv,{css:{color:z.TV.foregroundDimmer},multiline:!1,children:["(",n5(n.periodStart)," - ",n5(n.periodEnd),")"]})]}),n.items.map(function(e){return(0,c.tZ)(x.G,{css:[z.l0.colWithGap(4)],children:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"proration"===n.type?e.amount>0?"Charge for remaining time, ".concat(e.quantity," seats:"):"Credit for unused time, ".concat(e.quantity," seats:"):e.description}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:n1(e.amount)})]})})}),(0,c.tZ)(x.G,{css:{borderTop:"1px solid ".concat(z.TV.outlineDefault)}}),(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"Amount due:"}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:n1(n.items.reduce(function(e,n){return n.amount+e},0))})]})]})},n4=function(e){var n,t,r=e.orgId,i=e.seats,a=e.onBack,o=e.onConfirm,l=(n=(0,d._)({},nq,{variables:{input:{orgId:r,product:{quantity:i}}}}),g.a(n$,n)),s=l.data,u=l.loading,m=(null==s?void 0:null===(t=s.previewInvoice)||void 0===t?void 0:t.__typename)==="PreviewInvoiceOutput"&&s.previewInvoice,h=m&&m.upcomingItems.filter(function(e){return"proration"===e.type}),v=m&&m.upcomingItems.filter(function(e){return"subscription"===e.type});return v&&v.length>1&&nH.warn("More than one subscription group can not exist"),(0,c.tZ)(x.G,{children:u?(0,c.tZ)(x.G,{css:z.l0.align.center,children:(0,c.tZ)(Y.Z,{size:32})}):(0,c.BX)(x.G,{css:[z.l0.colWithGap(48)],children:[(0,c.tZ)(_.h4,{level:1,variant:"headerDefault",children:"Preview Subscription Changes"}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(16)],children:[m?m.currentItems.map(function(e){return(0,c.BX)(x.G,{css:[z.l0.colWithGap(8),z.l0.p(8),{border:"1px solid ".concat(z.TV.outlineDefault),borderRadius:z.TV.borderRadiusDefault}],children:[(0,c.BX)(x.G,{css:[z.l0.rowWithGap(4),z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:"Current billing period:"}),(0,c.BX)(_.xv,{css:{color:z.TV.foregroundDimmer},multiline:!1,children:["(",n5(e.periodStart)," -"," ",n5(e.periodEnd),")"]})]}),e.items.map(function(n){return(0,c.tZ)(x.G,{css:[z.l0.colWithGap(4)],children:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"proration"===e.type?n.amount>0?"Charge for ".concat(n.quantity," seats:"):"Credit for ".concat(n.quantity," seats:"):n.description}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:n1(n.amount)})]})})})]})}):null,h?h.map(function(e){return(0,c.tZ)(n3,{group:e})}):null,v?v.map(function(e){return(0,c.tZ)(n7,{group:e})}):null,(0,c.BX)(x.G,{css:z.l0.colWithGap(8),children:[(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:"Total amount due next billing period:"}),(0,c.tZ)(_.xv,{variant:"subheadDefault",multiline:!1,children:m?n0(m.total>0?m.total:0):null})]}),m&&0!==m.balance?(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"Remaining balance after next billing period:"}),(0,c.tZ)(_.xv,{multiline:!1,children:m?n1(m.balance):null})]}):null,(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.justify.spaceBetween,z.l0.align.baseline],children:[(0,c.tZ)(_.xv,{multiline:!1,children:"You will be billed on:"}),(0,c.tZ)(_.xv,{multiline:!1,children:m?n5(m.chargeDate):null})]})]})]}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Back",type:"button",onClick:function(){return a()}}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(eQ.Z,{}),disabled:u,text:"Confirm Changes",colorway:"primary",type:"submit",onClick:function(){return o()}})]})]})})},n8=function(e){var n,t,r,i,a,o=e.orgId,l=e.seats,s=e.onUpdated,m=(0,A._)((n=(0,d._)({},nq,{variables:{input:{orgId:o,product:{quantity:l}}},onCompleted:function(e){"UpdateSubscriptionOutput"===e.updateSubscription.__typename&&s()}}),eZ.D(nj,n)),2),h=m[0],v=m[1],g=v.data,p=v.loading,f=v.called;(0,u.useEffect)(function(){f||h()},[]);var b=g&&(null===(t=g.updateSubscription)||void 0===t?void 0:t.__typename)==="UpdateSubscriptionOutput"&&g.updateSubscription,Z=g&&((null===(r=g.updateSubscription)||void 0===r?void 0:r.__typename)==="UserError"||(null===(i=g.updateSubscription)||void 0===i?void 0:i.__typename)==="NotFoundError"||(null===(a=g.updateSubscription)||void 0===a?void 0:a.__typename)==="UnauthorizedError")&&g.updateSubscription.message;return(0,c.tZ)(x.G,{children:p?(0,c.tZ)(x.G,{css:z.l0.align.center,children:(0,c.tZ)(Y.Z,{size:32})}):(0,c.BX)(x.G,{children:[Z?(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.tZ)(_.h4,{variant:"headerDefault",level:1,children:"An error occurred"}),(0,c.tZ)(_.xv,{multiline:!1,children:Z})]}):null,b?(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.tZ)(_.h4,{variant:"headerDefault",level:1,children:"Successfully updated subscription"}),(0,c.tZ)(_.xv,{children:"All subscriptions changes, including any charges or credits, will appear on your next invoice."})]}):null]})})},n6=function(e){var n,t=e.orgId,r=e.isOpen,i=e.onRequestClose,a=e.onSubscriptionUpdate,o=(0,A._)((0,u.useState)(0),2),l=o[0],s=o[1],d=(0,A._)((0,u.useState)(),2),m=d[0],h=d[1];(0,u.useEffect)(function(){r&&(0,nR.j)(nR.U3.TEAMS_UPDATE_PLAN_MODAL_OPENED)},[r]);var v=(0,u.useCallback)(function(){s(0),h(void 0),i()},[i]);return 0===l?n=(0,c.tZ)(nQ,{orgId:t,seats:m,onCancel:v,onPreview:function(e){h(e),s(1)}}):1===l&&m?n=(0,c.tZ)(n4,{orgId:t,seats:m,onBack:function(){return s(0)},onConfirm:function(){return s(2)}}):2===l&&m&&(n=(0,c.tZ)(n8,{orgId:t,seats:m,onUpdated:a})),(0,c.tZ)(F.u,{isOpen:r,onRequestClose:v,maxWidth:600,children:n})},n9=t(78711);function te(){var e=(0,m._)(["\n  query TeamsListSectionArchivedTeams($orgId: Int!) {\n    teamOrganization(id: $orgId) {\n      ... on TeamOrganization {\n        id\n        archivedTeams {\n          id\n          ...TeamCard\n        }\n      }\n    }\n  }\n  ","\n"]);return te=function(){return e},e}function tn(){var e=(0,m._)(["\n  query TeamsListSectionUnsubscribedTeams($orgId: Int!) {\n    teamOrganization(id: $orgId) {\n      ... on TeamOrganization {\n        id\n        unsubscribedTeams {\n          id\n          ...TeamCard\n        }\n      }\n    }\n  }\n  ","\n"]);return tn=function(){return e},e}var tt={},tr=(0,h.Ps)(te(),v.eL),ti=(0,h.Ps)(tn(),v.eL);function ta(){var e=(0,m._)(["\n  mutation DeleteTeamOrg($input: DeleteTeamOrganizationInput!) {\n    deleteTeamOrganization(input: $input) {\n      ... on TeamOrganization {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return ta=function(){return e},e}var to={},tl=(0,h.Ps)(ta()),ts=function(e){var n,t,r=e.orgName,i=e.orgId,a=e.isOpen,o=e.canBeDeleted,l=e.onRequestClose,s=e.onOrgDeleted,u=(0,eg.U)()("confirmName"),m=(0,ei.Z)(),h=m.showError,v=m.showConfirm,g=(0,A._)((n=(0,d._)({},to,{onError:function(e){h(e.message)},onCompleted:function(e){"TeamOrganization"===e.deleteTeamOrganization.__typename?(v("Organization successfully deleted."),s(),y()):("NotFoundError"===e.deleteTeamOrganization.__typename||"UnauthorizedError"===e.deleteTeamOrganization.__typename)&&h(e.deleteTeamOrganization.message)}}),eZ.D(tl,n)),2),p=g[0],f=g[1].loading,b=(0,ec.Y)("",function(e){if(e!==r)return{message:"Please type the organization name exactly"}}),Z=!!b.error,T=(0,en.iv)({borderRadius:"".concat(z.TV.space8," !important")}),y=function(){b.setValue(""),l()},O=(t=(0,ne._)(function(e){return(0,nn.Jh)(this,function(n){switch(n.label){case 0:if(e.preventDefault(),b.validate())return[2];return[4,p({variables:{input:{orgId:i}}})];case 1:return n.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return(0,c.tZ)(F.u,{isOpen:a,onRequestClose:y,children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],tag:"form",onSubmit:O,children:[(0,c.BX)(_.h4,{variant:"headerDefault",level:2,css:z.l0.maxWidth("100%"),children:["Delete ",r]}),o?(0,c.BX)(c.HY,{children:[(0,c.BX)(x.G,{css:z.l0.colWithGap(8),children:[(0,c.BX)(_.xv,{children:["Deleting ",r," will remove access to the Organization for anyone in the Organization, and any Teams in the Organization."]}),(0,c.tZ)(_.xv,{children:"It will also cancel the Organization’s paid plan, if it has one, effective at the next billing cycle."}),(0,c.tZ)(_.xv,{children:"This cannot be undone!"})]}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(8)],children:[(0,c.tZ)("label",{css:[z.l0.color.foregroundDimmer,{fontSize:z.TV.fontSizeSmall,lineHeight:z.TV.lineHeightSmall}],htmlFor:u,children:"Type the organization name to confirm"}),(0,c.tZ)(no.ZP,{autoFocus:!0,required:!0,css:T,id:u,value:b.value,placeholder:"Type the organization name to confirm",onBlur:b.handleBlur,disabled:f,validationResults:b.error?[{message:b.error.message,state:"error"}]:void 0,onChange:function(e){return b.setValue(e.currentTarget.value)}})]})]}):(0,c.tZ)(x.G,{css:z.l0.colWithGap(8),children:(0,c.tZ)(_.xv,{children:"This Organization has active Teams in it. Deleting Organizations with Teams is not currently supported. If you want to delete this Organization, please delete the Teams in the Organization first."})}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",type:"button",onClick:y}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(eo.Z,{}),disabled:f||Z||!o,text:"Yes, Cancel Plan & Delete Organization",colorway:"negative",type:"submit"})]})]})})};function tc(){var e=(0,m._)(["\n  mutation LeaveTeamOrg($input: DeleteTeamOrganizationMemberInput!) {\n    deleteTeamOrganizationMember(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return tc=function(){return e},e}var tu={},td=(0,h.Ps)(tc(),ek),tm=function(e){var n,t=e.orgName,r=e.currentUserId,i=e.orgId,a=e.isOpen,o=e.onRequestClose,l=e.onLeave,s=(0,ei.Z)(),m=s.showError,h=s.showConfirm,v=(0,eg.U)()("retainTeamAccess"),g=(0,A._)((0,u.useState)(!0),2),p=g[0],f=g[1],b=(0,A._)((n=(0,d._)({},tu,{onError:function(e){m(e.message)},onCompleted:function(e){"TeamOrganization"===e.deleteTeamOrganizationMember.__typename?(h("Successfully left ".concat(t)),l(),o()):("NotFoundError"===e.deleteTeamOrganizationMember.__typename||"UnauthorizedError"===e.deleteTeamOrganizationMember.__typename)&&m(e.deleteTeamOrganizationMember.message)}}),eZ.D(td,n)),2),Z=b[0],T=b[1].loading;return(0,c.tZ)(F.u,{isOpen:a,onRequestClose:o,children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.BX)(_.h4,{variant:"headerDefault",level:2,css:z.l0.maxWidth("100%"),children:["Leave ",t]}),(0,c.tZ)(x.G,{css:z.l0.colWithGap(8),children:(0,c.BX)(_.xv,{children:["Are you sure you want to leave ",t,"? This will mean you will lose access to the Organization. If you are a member of any Teams in the Organization, you can optionally choose to keep access to those Teams you’ve joined."]})}),(0,c.BX)(x.G,{css:z.l0.rowWithGap(8),children:[(0,c.tZ)(eV.X,{id:v,checked:p,onChange:function(e){return f(e.target.checked)},disabled:T}),(0,c.tZ)("label",{css:z.l0.cursor.pointer,htmlFor:v,children:"Keep existing access to Teams"})]}),(0,c.BX)(x.G,{css:[z.l0.rowWithGap(12),z.l0.justify.end],children:[(0,c.tZ)(V.zx,{text:"Cancel",onClick:o}),(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(nh.Z,{}),text:"Yes, Leave Organization",colorway:"negative",disabled:T,onClick:function(){Z({variables:{input:{orgId:i,memberId:r,retainTeamAccess:p}}})}})]})]})})};function th(e){var n=e.organization,t=e.onMenuItemSelected,r=[];return(n&&n.userPermissions&&(n.userPermissions.canViewOrgSettings&&r.push({value:"OrgSettings",label:"Org Settings",icon:(0,c.tZ)(Q.Z,{})}),n.userPermissions.canDeleteOrg&&r.push({value:"DeleteOrg",label:"Delete Org",icon:(0,c.tZ)(eo.Z,{}),isDestructive:!0}),n.userPermissions.canLeaveOrg&&r.push({value:"LeaveOrg",label:"Leave Org",icon:(0,c.tZ)(nh.Z,{}),isDestructive:!0})),0===r.length)?null:(0,c.tZ)(nd.Z,{label:"Org Actions",items:r,onItemClick:function(e){return t(e.value)}})}var tv="@media screen and (min-width: ".concat($.j.tabletMin,"px)"),tg=function(e){var n,t,r=e.organization,i=e.onRemove,a=(0,A._)((n={variables:{orgId:r.id}},t=(0,d._)({},tt,n),n9.t(ti,t)),2),o=a[0],l=a[1],s=l.loading,m=l.data,h=l.refetch,v=l.called,g=(null==m?void 0:m.teamOrganization.__typename)==="TeamOrganization"&&m.teamOrganization.unsubscribedTeams||[];return((0,u.useEffect)(function(){v&&h&&r.unsubscribedTeamsCount!==g.length&&h(),v||r.unsubscribedTeamsCount===g.length||o()},[r.unsubscribedTeamsCount,g.length,o,h,v]),r.unsubscribedTeamsCount)?(0,c.BX)(x.G,{css:[{width:"100%"}],children:[(0,c.tZ)(N.Z,{text:"".concat(r.unsubscribedTeamsCount," ").concat(1===r.unsubscribedTeamsCount?"team":"teams"," available to join")}),(0,c.BX)(x.G,{children:[s?(0,c.tZ)(x.G,{css:[z.l0.flex.row,z.l0.justify.center,z.l0.py(16)],children:(0,c.tZ)(Y.Z,{})}):null,g.map(function(e){return(0,c.tZ)(nM,{canJoinTeam:!0,team:e,onRemove:function(){h&&h(),i()}},e.id)})]})]}):null},tp=function(e){var n,t,r=e.organization,i=e.onRemove,a=(0,A._)((n={variables:{orgId:r.id}},t=(0,d._)({},tt,n),n9.t(tr,t)),2),o=a[0],l=a[1],s=l.loading,m=l.data,h=l.refetch,v=l.called,g=(null==m?void 0:m.teamOrganization.__typename)==="TeamOrganization"&&m.teamOrganization.archivedTeams||[];return((0,u.useEffect)(function(){v&&h&&r.archivedTeamsCount!==g.length&&h(),v||r.archivedTeamsCount===g.length||o()},[r.archivedTeamsCount,g.length,o,h,v]),r.archivedTeamsCount)?(0,c.BX)(x.G,{css:[{width:"100%"}],children:[(0,c.tZ)(N.Z,{text:"Archived: ".concat(r.archivedTeamsCount," ").concat((0,W.Z)("team",r.archivedTeamsCount))}),(0,c.BX)(x.G,{children:[s?(0,c.tZ)(x.G,{css:[z.l0.flex.row,z.l0.justify.center,z.l0.py(16)],children:(0,c.tZ)(Y.Z,{})}):null,g.map(function(e){return(0,c.tZ)(nM,{team:e,onRemove:function(){h&&h(),i()}},e.id)})]})]}):null},tf=function(e){var n=e.teams,t=e.onRemove;return(0,c.tZ)(K.Tg,{css:[z.l0.borderRadius(8),z.l0.backgroundColor.backgroundDefault,z.l0.pt(16),{width:"100%",border:"1px solid ".concat(z.TV.backgroundHighest),overflow:"hidden"}],elevated:!0,children:(0,c.tZ)(x.G,{children:n.length>0&&n.map(function(e,r){return(0,c.tZ)(nM,{team:e,onRemove:t,showBottomBorder:r!==n.length-1},e.id)})})})},tb=function(e){var n,t,r,i,a,o=e.title,l=e.teams,s=e.organization,d=e.canCreateNewTeam,m=e.onRemove,h=e.onSubscriptionUpdate,v=e.currentUserId,g=(0,e6.useRouter)(),p=(0,A._)((0,u.useState)(!1),2),f=p[0],b=p[1],Z=(0,A._)((0,u.useState)(!1),2),T=Z[0],y=Z[1],O=(0,u.useContext)(L.G).isGooglePlayStoreTWA,w=Number(g.query.addTeamForOrg)===(null==s?void 0:s.id)?"CreateTeam":null,C=(0,A._)((0,u.useState)(w),2),G=C[0],I=C[1],B=(null==s?void 0:s.capabilities)?s.capabilities.memberCount:0,S=null;(null===(n=s.capabilities)||void 0===n?void 0:n.isBusinessPlan)&&s.isAdmin&&(S=s.quantity);var k=(null===(t=s.capabilities)||void 0===t?void 0:t.isExpired)&&s.isAdmin,D=function(){return I(null)},P=d||s&&!!s.archivedTeamsCount;return(0,c.BX)(K.Tg,{css:[z.l0.borderRadius(8),z.l0.backgroundColor.backgroundDefault,!s&&z.l0.pt(16),{width:"100%",border:"1px solid ".concat(z.TV.backgroundHighest),overflow:"hidden"}],elevated:!0,children:[(0,c.tZ)(x.G,{css:[z.l0.p(16)],children:(0,c.BX)(x.G,{css:[z.l0.colWithGap(12)],children:[(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.flex.grow(1),z.l0.justify.spaceBetween],children:[(0,c.tZ)(_.h4,{level:3,variant:"headerDefault",css:[z.l0.flex.shrink(2),z.l0.pt(8)],children:o}),(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[s.isAdmin?(0,c.tZ)(q.hU,{alt:"Open organization management",onClick:function(){return I("OrgSettings")},size:28,css:[z.l0.p(8),z.l0.mr(4)],children:(0,c.tZ)(Q.Z,{})}):null,(0,c.tZ)(th,{organization:s,onMenuItemSelected:function(e){I(e)}})]})]}),!k||(null===(r=s.capabilities)||void 0===r?void 0:r.isEducationPlan)?null:(0,c.tZ)(x.G,{css:[z.l0.width("fit-content")],children:(0,c.tZ)(E.u,{colorway:"negative",text:"Subscription expired. Contact support to reactivate.",href:e9.av})}),(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[(0,c.tZ)(V.zx,{text:S?"".concat(B,"/").concat(S," ").concat((0,W.Z)("User",S))+(O?"":": Add/Remove Seats"):"".concat(B," ").concat((0,W.Z)("User",B)),iconLeft:(0,c.tZ)(ee.Z,{}),disabled:!S||O,onClick:function(){return I("ChangePlan")},size:"small",css:[z.l0.mr(8),(0,R._)({display:"none"},tv,{display:"flex"})]}),s.isAdmin?(0,c.tZ)(V.zx,{text:"You are an org ".concat(s.isOwner?"owner":"admin"),disabled:!0,size:"small",css:[z.l0.mr(8),(0,R._)({display:"none"},tv,{display:"flex"})]}):null,k&&(null===(i=s.capabilities)||void 0===i?void 0:i.isEducationPlan)?(0,c.tZ)(V.zx,{text:"Teacher Verification Required",disabled:!0,colorway:"negative",variant:"outlined",size:"small",css:[z.l0.mr(8),(0,R._)({display:"none"},tv,{display:"flex"})]}):null]})]})}),(0,c.tZ)(N.Z,{text:"You are a member of ".concat(l.length," ").concat((0,W.Z)("team",l.length)," on the ").concat(o," organization")}),(0,c.tZ)(x.G,{children:l.length>0&&l.map(function(e,n){return(0,c.tZ)(nM,{team:e,onRemove:m,showBottomBorder:n!==l.length-1||P},e.id)})}),P?(0,c.BX)(x.G,{css:[z.l0.p(16),(0,R._)({},tv,{flexDirection:"row"})],children:[d?(0,c.tZ)(V.zx,{iconLeft:(0,c.tZ)(J.Z,{}),text:"New team in ".concat(o),variant:"outlined",onClick:function(){I("CreateTeam")}}):null,!!s.archivedTeamsCount&&(0,c.tZ)(V.zx,{css:[z.l0.justify.center,(0,R._)({marginTop:8},tv,{marginTop:0,marginLeft:8,border:"none",justifyContent:"flex-start"})],variant:"outlined",text:"".concat(f?"Hide":"See"," archived Teams"),onClick:function(){return b(!f)},iconLeft:f?(0,c.tZ)(H.Z,{}):(0,c.tZ)(j.Z,{})}),!!s.unsubscribedTeamsCount&&(0,c.tZ)(V.zx,{css:[z.l0.justify.center,(0,R._)({marginTop:8},tv,{marginTop:0,marginLeft:8,border:"none",justifyContent:"flex-start"})],variant:"outlined",text:T?"Show only subscribed teams":"Show all teams on organization",onClick:function(){return y(!T)}})]}):null,f?(0,c.tZ)(tp,{organization:s,onRemove:m}):null,T?(0,c.tZ)(tg,{organization:s,onRemove:m}):null,(0,c.tZ)(F.u,{isOpen:"CreateTeam"===G,onRequestClose:D,children:(0,c.tZ)(nu,{org:s,onCancel:D,onCreate:function(e){D(),g.push({pathname:"/teamProfile",query:{teamname:e.username}},"/team/".concat(e.username))},showStudentPrivacyCheckbox:!!(null==s?void 0:null===(a=s.capabilities)||void 0===a?void 0:a.isEducationPlan)})}),s.isAdmin?(0,c.tZ)(n6,{orgId:s.id,isOpen:"ChangePlan"===G,onRequestClose:D,onSubscriptionUpdate:function(){return h&&h()}}):null,(0,c.tZ)(ts,{canBeDeleted:s.canBeDeleted,orgId:s.id,orgName:s.name,isOpen:"DeleteOrg"===G,onRequestClose:D,onOrgDeleted:m}),(0,c.tZ)(tm,{orgId:s.id,currentUserId:v,orgName:s.name,isOpen:"LeaveOrg"===G,onRequestClose:D,onLeave:m}),(0,c.tZ)(e8,{isOpen:"OrgSettings"===G,setClose:D,organization:s,currentUserId:v})]})},tZ="https://docs.google.com/forms/d/e/1FAIpQLSc803ipzYGwjc_0-1E4U98SiBiYdcdwSUX73DMRSAnCd61Ctw/viewform",tT=function(e){var n=e.title,t=e.IconComponent;return(0,c.tZ)(x.G,{children:(0,c.BX)(x.G,{css:[z.l0.flex.row,z.l0.align.center],children:[(0,c.tZ)(x.G,{children:t}),(0,c.tZ)(_.xv,{css:[z.l0.px(8)],variant:"headerDefault",multiline:!1,children:n}),(0,c.tZ)(x.G,{css:{borderWidth:1,borderColor:"var(--outline-dimmest)",flexGrow:2}})]})})},ty=function(e){var n=e.text,t=e.children;return(0,c.tZ)(x.G,{css:[z.l0.borderRadius(4),z.l0.p(16),z.l0.mb(32),z.l0.backgroundColor.backgroundDefault,{width:"100%",border:"1px solid ".concat(z.TV.backgroundHighest)}],children:(0,c.BX)(x.G,{css:[z.l0.justify.center,z.l0.align.stretch],children:[(0,c.tZ)(x.G,{css:[z.l0.flex.grow(1),z.l0.p(16),z.l0.textAlign.center],children:(0,c.tZ)(_.xv,{children:n})}),(0,c.tZ)(x.G,{css:[z.l0.flex.row,z.l0.justify.center],children:t})]})})},t_=function(){var e=(0,G.f)(),n=X();return n.shouldShowBanner||e.shouldShowBanner?(0,c.BX)(x.G,{css:[z.l0.colWithGap(16)],children:[n.shouldShowBanner?(0,c.tZ)(M,{}):null,e.shouldShowBanner?(0,c.tZ)(G.Z,{}):null]}):null},tx=function(e){var n=e.currentUserId,t=e.freeTeams,r=e.educationTeamOrgs,i=e.businessTeamOrgs,a=e.onRemove,o=e.onUpdate;return(0,c.BX)(x.G,{css:[z.l0.colWithGap(32)],children:[(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.tZ)(tT,{IconComponent:(0,c.tZ)(w.Z,{size:24}),title:"Pro"}),(0,c.tZ)(I.gC,{spacing:4,children:i&&i.length?i.map(function(e){var t,r;return(0,c.tZ)(tb,{title:e.name,teams:e.teams,organization:e,canCreateNewTeam:(null===(t=e.userPermissions)||void 0===t?void 0:t.canCreateTeamsInOrg)&&(null===(r=e.capabilities)||void 0===r?void 0:r.canCreateNewTeam)&&!e.capabilities.isExpired,onRemove:a,onSubscriptionUpdate:o,currentUserId:n},e.id)}):(0,c.tZ)(ty,{text:"".concat(B.Vn," is a place for coworkers to create prototypes and develop products."),children:(0,c.tZ)("a",{href:tZ,target:"_blank",children:"Contact us to learn more about Replit at work"})})})]}),(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.tZ)(tT,{IconComponent:(0,c.tZ)(O.Z,{size:24}),title:"Education"}),(0,c.tZ)(t_,{}),(0,c.tZ)(x.G,{children:(0,c.tZ)(x.G,{css:[z.l0.colWithGap(32)],children:r&&r.length?r.map(function(e){var t,r;return(0,c.tZ)(tb,{title:e.name,teams:e.teams,organization:e,canCreateNewTeam:(null===(t=e.userPermissions)||void 0===t?void 0:t.canCreateTeamsInOrg)&&(null===(r=e.capabilities)||void 0===r?void 0:r.canCreateNewTeam)&&!e.capabilities.isExpired,onRemove:a,onSubscriptionUpdate:o,currentUserId:n},e.id)}):(0,c.tZ)(ty,{text:"Teams for Education is a place for collaborating and managing projects.",children:(0,c.tZ)("a",{href:tZ,target:"_blank",children:"Contact us to learn more about Teams on Replit"})})})})]}),t.length>0?(0,c.BX)(x.G,{css:[z.l0.colWithGap(24)],children:[(0,c.tZ)(tT,{IconComponent:(0,c.tZ)(C.Z,{size:24}),title:"Friends"}),(0,c.tZ)(tf,{teams:t,onRemove:a}),(0,c.tZ)(x.G,{css:z.l0.align.center,children:(0,c.tZ)("a",{href:tZ,target:"_blank",children:(0,c.tZ)(_.xv,{children:"Contact us to learn more about Teams on Replit"})})})]}):null]})},tO=t(43182),tw=t(6189),tC=t(40530),tz=function(e){var n=e.children;return(0,c.tZ)(tC.Z,{title:"Teams",children:(0,c.tZ)(K.Tg,{css:z.l0.pageContent,children:(0,c.tZ)(x.G,{css:[z.l0.colWithGap(24)],children:n})})})},tG=function(){var e,n=(0,ei.Z)().showError,t=(e=(0,d._)({},Z,{onError:function(e){n((0,tw.Z)(e.message)),tO.Tb(e)}}),g.a(y,e)),r=t.data,i=t.loading,a=t.refetch;return i?(0,c.BX)(tz,{children:[(0,c.tZ)(_.h4,{level:1,variant:"headerBig",children:"My Teams"}),(0,c.tZ)(Y.Z,{})]}):(null==r?void 0:r.currentUser)?(null==r?void 0:r.currentUser.hasTeamsKillswitch)?(0,c.BX)(tz,{children:[(0,c.tZ)(_.h4,{level:1,variant:"headerBig",children:"My Teams"}),(0,c.tZ)(_.xv,{children:"Sorry for the inconvenience, Teams are temporarily unavailable."})]}):(0,c.BX)(tz,{children:[(0,c.tZ)(_.h4,{level:1,variant:"headerBig",children:"My Teams"}),(0,c.tZ)(tx,{currentUserId:r.currentUser.id,freeTeams:r.currentUser.freeTeams,educationTeamOrgs:r.currentUser.educationTeamOrgs,businessTeamOrgs:r.currentUser.proTeamOrgs,onRemove:function(){return a()},onUpdate:function(){return a()}})]}):(0,c.BX)(tz,{children:[(0,c.tZ)(_.h4,{level:1,variant:"headerBig",children:"My Teams"}),(0,c.tZ)(_.xv,{children:"Please log in and refresh the page to continue."})]})}},72912:function(e,n,t){"use strict";t.d(n,{W:function(){return a}});var r=t(27879),i=t(50959);function a(e){let n=(0,r.d)(e),[t,a]=(0,i.useState)(null),[o,l]=(0,i.useState)([]),s=()=>{l([]),n.close()};return{focusStrategy:t,...n,open(e=null){a(e),n.open()},toggle(e=null){a(e),n.toggle()},close(){s()},UNSTABLE_expandedKeysStack:o,UNSTABLE_openSubmenu:(e,n)=>{l(t=>n>t.length?t:[...t.slice(0,n),e])},UNSTABLE_closeSubmenu:(e,n)=>{l(t=>t[n]===e?t.slice(0,n):t)}}}},88325:function(e,n,t){"use strict";t.d(n,{D:function(){return s}});var r=t(76660),i=t(50959),a=t(62450),o=t(73245);class l{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);return n?n.prevKey:null}getKeyAfter(e){let n=this.keyMap.get(e);return n?n.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){let n=[...this.getKeys()];return this.getItem(n[e])}constructor(e,{expandedKeys:n}={}){let t;this.keyMap=new Map,this.iterable=e,n=n||new Set;let r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||n.has(e.key)))for(let n of e.childNodes)r(n)};for(let n of e)r(n);let i=0;for(let[e,n]of this.keyMap)t?(t.nextKey=e,n.prevKey=t.key):(this.firstKey=e,n.prevKey=void 0),"item"===n.type&&(n.index=i++),(t=n).nextKey=void 0;this.lastKey=null==t?void 0:t.key}}function s(e){let[n,t]=(0,o.zk)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),s=(0,r.q)(e),c=(0,i.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),u=(0,a.Kx)(e,(0,i.useCallback)(e=>new l(e,{expandedKeys:n}),[n]),null);return(0,i.useEffect)(()=>{null==s.focusedKey||u.getItem(s.focusedKey)||s.setFocusedKey(null)},[u,s.focusedKey]),{collection:u,expandedKeys:n,disabledKeys:c,toggleKey:e=>{let r;t(((r=new Set(n)).has(e)?r.delete(e):r.add(e),r))},setExpandedKeys:t,selectionManager:new r.Z(u,s)}}}},function(e){e.O(0,[1604,4308,8049,1694,530,3129,9774,2888,179],function(){return e(e.s=10116)}),_N_E=e.O()}]);
//# sourceMappingURL=teamsDashboard-7ae9d56b1e613a54.js.map